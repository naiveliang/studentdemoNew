define("plugins/router/1.0.0/router",["jquery","./jquery-hash","./jquery-hashchange"],function(a,b,c){var d=a("jquery");a("./jquery-hash");var e=function(a){var b=d.extend({},a);mining.utils.isEmpty(b)||(f(b),d(window).hashchange(function(){f(b)}))},f=function(a){var b=d.hash("parse");mining.utils.isEmpty(b)?g(a,"empty",""):d.each(b,function(b,c){g(a,b,c)})},g=function(a,b,c){d.each(a,function(a,d){a==b&&d(c)})};c.exports=e}),define("plugins/router/1.0.0/jquery-hash",["jquery","plugins/router/1.0.0/jquery-hashchange"],function(a){var b=a("jquery");a("plugins/router/1.0.0/jquery-hashchange"),b.fn.hashchange.src=seajs.data.base+"plugins/router/document-domain.html",b.fn.hashchange.domain=document.domain,b.extend({hash:function(){var a,c,d={},e={type:"?",format:"json",params:{},onchange:function(){},hash:window.location.hash},f=arguments,g=f.length;if(d.get=function(a,c){var e=arguments,f=e.length;if(1==f)return a.replace(/^#+[?!]*/,"");if(2==f&&d.isChar(c)){var g=d.parse(a);return g[c]?decodeURIComponent(g[c]):""}if(2==f&&b.isArray(c)){for(var g=d.parse(a),h="",i={},j=0,k=c.length;k>j;j++)d.isChar(c[j])&&(h=c[j].toString(),i[h]=g[h]?decodeURIComponent(g[h]):"");return i}},d.set=function(){var a=arguments,c=a.length,e=d.parse(a[0]);if(2==c&&"object"==typeof a[1]){{d.params(a[1])}for(var f in b.trim(i))e[f]=b.trim(i)[f]}else if(3==c&&d.isChar(a[1])&&d.isChar(a[2])){var f=b.trim(a[1]),g=a[2];e[f]=g}return e},d.hash=function(a,b){var c="";if("?"==a){c+="#?";for(var d in b)c+="#?"==c?encodeURIComponent(d)+"="+encodeURIComponent(b[d]):"&"+encodeURIComponent(d)+"="+encodeURIComponent(b[d])}else{if("!"!=a)return"#";c+="#!";for(var d in b)c+="#!"==c?encodeURIComponent(d)+"/"+encodeURIComponent(b[d]):"/"+encodeURIComponent(d)+"/"+encodeURIComponent(b[d])}return c},d.type=function(a){if(""==a)return e.type;var b=a.replace(/^#+/,"");return/^[!?]+/.test(b)?b.match(/^[!?]+/)[0].slice(-1):e.type},d.parse=function(a){if(""==a)return{};var b=a.replace(/^#+/,"");if(!/^[!?]+/.test(b))return{};var c,d=b.match(/^[!?]+/)[0].slice(-1),e=b.replace(/^[!?]+/,""),f=[],g={};if("?"==d){f=e.split("&");for(var h=0,i=f.length;i>h;h++)c=f[h].split("="),2==c.length&&(g[decodeURIComponent(c[0])]=decodeURIComponent(c[1]))}else{if("!"!=d)return{};f=e.split("/");for(var h=0,i=f.length;i>h;h++)h%2||""==f[h]?h%2&&""!=f[h-1]&&(g[decodeURIComponent(f[h-1])]=decodeURIComponent(f[h])):g[decodeURIComponent(f[h])]=""}return g},d.array=function(a){var c=[];if(d.isChar(a))c.push(a.toString());else if(b.isArray(a))for(var e=0,f=a.length;f>e;e++)d.isChar(a[e])&&""!=b.trim(a[e].toString())&&c.push(b.trim(a[e].toString()));return c},d.options=function(a){return a.type?"query"==a.type?a.type="?":"path"==a.type?a.type="!":"query"!=a.type&&"path"!=a.type&&"?"!=a.type&&"!"!=a.type&&(a.type=e.type):a.type=d.type(e.hash),a.hash||(a.hash=e.hash),a.format?"object"==a.format&&(a.format="json"):a.format="json",a.relation?"and"!=a.relation&&"or"!=a.relation&&(a.relation=e.relation):a.relation=e.relation,a},d.params=function(a){var c={};if(!b.isArray(a)&&"object"==typeof a)for(var e in a)d.isChar(a[e])&&""!=b.trim(e)&&(c[b.trim(e)]=a[e].toString());return c},d.del=function(a,c){if(d.isChar(c)){var e=b.trim(c.toString());delete a[e]}else if(b.isArray(c))for(var f in c){var e=b.trim(c[f].toString());delete a[e]}return a},d.length=function(a){var b=0;for(var c in a)b++;return b},d.isEqual=function(a,b){if(d.length(a)!=d.length(b))return!1;for(var c in a)if(b[c]!=a[c])return!1;return!0},d.isDifferent=function(a,b){if(d.length(a)!=d.length(b))return!0;var c=d.length(a),e=0;for(var f in a)a[f]!=b[f]&&e++;return c==e},d.isChar=function(a){return"string"==typeof a||"number"==typeof a},0==g)return e.hash;if(2>=g&&"clear"==f[0])window.location.hash="",a={},c=f[1];else if(3>=g&&"get"==f[0])1==g?(a=d.get(e.hash),c=!1):2==g&&b.isFunction(f[1])?(a=d.get(e.hash),c=f[1]):3>=g&&d.isChar(f[1])?(a=d.get(e.hash,f[1]),c=f[2]):3>=g&&b.isArray(f[1])&&(a=d.get(e.hash,f[1]),c=f[2]);else if(3>=g&&"parse"==f[0])3>=g&&"string"==typeof f[1]?(a=d.parse(f[1]),c=f[2]):2>=g&&(a=d.parse(e.hash),c=f[1]);else if(3>=g&&"del"==f[0]){if(d.isChar(f[1]))a=d.del(d.parse(e.hash),f[1]),window.location.hash=d.hash(e.type,a),c=f[2];else if(b.isArray(f[1]))a=d.del(d.parse(e.hash),d.array(f[1])),window.location.hash=d.hash(e.type,a),c=f[2];else if("object"==typeof f[1]&&!b.isArray(f[1])){var h=d.options(b.extend({},e,f[1])),j=d.del(d.parse(h.hash),d.array(h.params));window.location.hash=d.hash(h.type,j),a="string"==h.format?d.hash(h.type,j):j,c=f[2]}}else if(4>=g&&"set"==f[0]){if(4>=g&&d.isChar(f[1])&&d.isChar(f[2]))a=d.set(e.hash,f[1],f[2]),window.location.hash=d.hash(d.type(e.hash),a),c=f[3];else if(3>=g&&"object"==typeof f[1]&&!b.isArray(f[1])){var h=b.extend({},e,d.options(f[1])),j=b.extend({},d.parse(h.hash),d.params(h.params)),k=d.hash(h.type,j);window.location.hash=k,a="string"==h.format?k:j,c=f[2]}}else if(3==g&&"change"==f[0]&&d.isChar(f[1])&&b.isFunction(f[2])&&b.fn.hashchange){var l=d.get(window.location.hash,f[1]);b(window).hashchange(function(){var a=d.get(window.location.hash,f[1]);l!=a&&(f[2](l,a),l=a)}),a=!0,c=null}else if(3==g&&"changeor"==f[0]&&b.isArray(f[1])&&b.isFunction(f[2])&&b.fn.hashchange){var l=d.get(window.location.hash,f[1]);b(window).hashchange(function(){var a=d.get(window.location.hash,f[1]);d.isEqual(l,a)||(f[2](l,a),l=a)}),a=!0,c=null}else if(3==g&&"changeand"==f[0]&&b.isArray(f[1])&&b.isFunction(f[2])&&b.fn.hashchange){var l=d.get(window.location.hash,f[1]);b(window).hashchange(function(){var a=d.get(window.location.hash,f[1]);d.isDifferent(l,a)&&(f[2](l,a),l=a)}),a=!0,c=null}return b.isFunction(c)&&c(a),a}})}),define("plugins/router/1.0.0/jquery-hashchange",[],function(){!function(a,b,c){"$:nomunge";function d(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var e,f="hashchange",g=document,h=a.event.special,i=g.documentMode,j="on"+f in b&&(i===c||i>7);a.fn[f]=function(a){return a?this.bind(f,a):this.trigger(f)},a.fn[f].delay=50,h[f]=a.extend(h[f],{setup:function(){return j?!1:void a(e.start)},teardown:function(){return j?!1:void a(e.stop)}}),e=function(){function e(){var c=d(),g=n(k);c!==k?(m(k=c,g),a(b).trigger(f)):g!==k&&(location.href=location.href.replace(/#.*/,"")+g),h=setTimeout(e,a.fn[f].delay)}var h,i={},k=d(),l=function(a){return a},m=l,n=l;return i.start=function(){h||e()},i.stop=function(){h&&clearTimeout(h),h=c},mining.browser.msie&&!j&&function(){var b,c;i.start=function(){b||(c=a.fn[f].src,c=c&&c+d(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||m(d()),e()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow,g.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=g.title)}catch(a){}})},i.stop=l,n=function(){return d(b.location.href)},m=function(c,d){var e=b.document,h=a.fn[f].domain;c!==d&&(e.title=g.title,e.open(),h&&e.write('<script>document.domain="'+h+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(jQuery,this)});
