define("gallery/fullcalendar/2.3.1/fullcalendar",["jquery","moment","./fullcalendar.css"],function(a){function b(){var a,b,c,d,e,f=Array.prototype.slice.call(arguments),g={};for(a=0;a<Kb.length;a++){for(b=Kb[a],c=null,d=0;d<f.length;d++)e=f[d][b],Hb.isPlainObject(e)?c=Hb.extend(c||{},e):null!=e&&(c=null);null!==c&&(g[b]=c)}return f.unshift({}),f.push(g),Hb.extend.apply(Hb,f)}function c(a){var b,c={views:a.views||{}};return Hb.each(a,function(a,d){"views"!=a&&(Hb.isPlainObject(d)&&!/(time|duration|interval)$/i.test(a)&&-1==Hb.inArray(a,Kb)?(b=null,Hb.each(d,function(d,e){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(d)?(c.views[d]||(c.views[d]={}),c.views[d][a]=e):(b||(b={}),b[d]=e)}),b&&(c[a]=b)):c[a]=d)}),c}function d(a,b){b.left&&a.css({"border-left-width":1,"margin-left":b.left-1}),b.right&&a.css({"border-right-width":1,"margin-right":b.right-1})}function e(a){a.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function f(){Hb("body").addClass("fc-not-allowed")}function g(){Hb("body").removeClass("fc-not-allowed")}function h(a,b,c){var d=Math.floor(b/a.length),e=Math.floor(b-d*(a.length-1)),f=[],g=[],h=[],j=0;i(a),a.each(function(b,c){var i=b===a.length-1?e:d,k=Hb(c).outerHeight(!0);i>k?(f.push(c),g.push(k),h.push(Hb(c).height())):j+=k}),c&&(b-=j,d=Math.floor(b/f.length),e=Math.floor(b-d*(f.length-1))),Hb(f).each(function(a,b){var c=a===f.length-1?e:d,i=g[a],j=h[a],k=c-(i-j);c>i&&Hb(b).height(k)})}function i(a){a.height("")}function j(a){var b=0;return a.find("> *").each(function(a,c){var d=Hb(c).outerWidth();d>b&&(b=d)}),b++,a.width(b),b}function k(a,b){return a.height(b).addClass("fc-scroller"),a[0].scrollHeight-1>a[0].clientHeight?!0:(l(a),!1)}function l(a){a.height("").removeClass("fc-scroller")}function m(a){var b=a.css("position"),c=a.parents().filter(function(){var a=Hb(this);return/(auto|scroll)/.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==b&&c.length?c:Hb(a[0].ownerDocument||document)}function n(a){var b=a.offset();return{left:b.left,right:b.left+a.outerWidth(),top:b.top,bottom:b.top+a.outerHeight()}}function o(a){var b=a.offset(),c=q(a),d=b.left+t(a,"border-left-width")+c.left,e=b.top+t(a,"border-top-width")+c.top;return{left:d,right:d+a[0].clientWidth,top:e,bottom:e+a[0].clientHeight}}function p(a){var b=a.offset(),c=b.left+t(a,"border-left-width")+t(a,"padding-left"),d=b.top+t(a,"border-top-width")+t(a,"padding-top");return{left:c,right:c+a.width(),top:d,bottom:d+a.height()}}function q(a){var b=a.innerWidth()-a[0].clientWidth,c={left:0,right:0,top:0,bottom:a.innerHeight()-a[0].clientHeight};return r()&&"rtl"==a.css("direction")?c.left=b:c.right=b,c}function r(){return null===Lb&&(Lb=s()),Lb}function s(){var a=Hb("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),b=a.children(),c=b.offset().left>a.offset().left;return a.remove(),c}function t(a,b){return parseFloat(a.css(b))||0}function u(a){return 1==a.which&&!a.ctrlKey}function v(a,b){var c={left:Math.max(a.left,b.left),right:Math.min(a.right,b.right),top:Math.max(a.top,b.top),bottom:Math.min(a.bottom,b.bottom)};return c.left<c.right&&c.top<c.bottom?c:!1}function w(a,b){return{left:Math.min(Math.max(a.left,b.left),b.right),top:Math.min(Math.max(a.top,b.top),b.bottom)}}function x(a){return{left:(a.left+a.right)/2,top:(a.top+a.bottom)/2}}function y(a,b){return{left:a.left-b.left,top:a.top-b.top}}function z(a,b){var c,d,e,f,g=a.start,h=a.end,i=b.start,j=b.end;return h>i&&j>g?(g>=i?(c=g.clone(),e=!0):(c=i.clone(),e=!1),j>=h?(d=h.clone(),f=!0):(d=j.clone(),f=!1),{start:c,end:d,isStart:e,isEnd:f}):void 0}function A(a,b){return moment.duration({days:a.clone().stripTime().diff(b.clone().stripTime(),"days"),ms:a.time()-b.time()})}function B(a,b){return moment.duration({days:a.clone().stripTime().diff(b.clone().stripTime(),"days")})}function C(a,b,c){return moment.duration(Math.round(a.diff(b,c,!0)),c)}function D(a,b){var c,d,e;for(c=0;c<Qb.length&&(d=Qb[c],e=E(d,a,b),!(e>=1&&U(e)));c++);return d}function E(a,b,c){return null!=c?c.diff(b,a,!0):moment.isDuration(b)?b.as(a):b.end.diff(b.start,a,!0)}function F(a){return Boolean(a.hours()||a.minutes()||a.seconds()||a.milliseconds())}function G(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function H(a){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(a)}function I(a){var b=function(){};return b.prototype=a,new b}function J(a,b){for(var c in a)L(a,c)&&(b[c]=a[c])}function K(a,b){var c,d,e=["constructor","toString","valueOf"];for(c=0;c<e.length;c++)d=e[c],a[d]!==Object.prototype[d]&&(b[d]=a[d])}function L(a,b){return Rb.call(a,b)}function M(a){return/undefined|null|boolean|number|string/.test(Hb.type(a))}function N(a,b,c){if(Hb.isFunction(a)&&(a=[a]),a){var d,e;for(d=0;d<a.length;d++)e=a[d].apply(b,c)||e;return e}}function O(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]}function P(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Q(a){return a.replace(/&.*?;/g,"")}function R(a){var b=[];return Hb.each(a,function(a,c){null!=c&&b.push(a+":"+c)}),b.join(";")}function S(a){return a.charAt(0).toUpperCase()+a.slice(1)}function T(a,b){return a-b}function U(a){return a%1===0}function V(a,b){var c=a[b];return function(){return c.apply(a,arguments)}}function W(a,b){var c,d,e,f,g=function(){var h=+new Date-f;b>h&&h>0?c=setTimeout(g,b-h):(c=null,a.apply(e,d),c||(e=d=null))};return function(){e=this,d=arguments,f=+new Date,c||(c=setTimeout(g,b))}}function X(a,b,c){var d,e,f,g,h=a[0],i=1==a.length&&"string"==typeof h;return moment.isMoment(h)?(g=moment.apply(null,a),Z(h,g)):G(h)||void 0===h?g=moment.apply(null,a):(d=!1,e=!1,i?Sb.test(h)?(h+="-01",a=[h],d=!0,e=!0):(f=Tb.exec(h))&&(d=!f[5],e=!0):Hb.isArray(h)&&(e=!0),g=b||d?moment.utc.apply(moment,a):moment.apply(null,a),d?(g._ambigTime=!0,g._ambigZone=!0):c&&(e?g._ambigZone=!0:i&&(g.utcOffset?g.utcOffset(h):g.zone(h)))),g._fullCalendar=!0,g}function Y(a,b){var c,d,e=!1,f=!1,g=a.length,h=[];for(c=0;g>c;c++)d=a[c],moment.isMoment(d)||(d=Ib.moment.parseZone(d)),e=e||d._ambigTime,f=f||d._ambigZone,h.push(d);for(c=0;g>c;c++)d=h[c],b||!e||d._ambigTime?f&&!d._ambigZone&&(h[c]=d.clone().stripZone()):h[c]=d.clone().stripTime();return h}function Z(a,b){a._ambigTime?b._ambigTime=!0:b._ambigTime&&(b._ambigTime=!1),a._ambigZone?b._ambigZone=!0:b._ambigZone&&(b._ambigZone=!1)}function $(a,b){a.year(b[0]||0).month(b[1]||0).date(b[2]||0).hours(b[3]||0).minutes(b[4]||0).seconds(b[5]||0).milliseconds(b[6]||0)}function _(a,b){return Vb.format.call(a,b)}function ab(a,b){return bb(a,gb(b))}function bb(a,b){var c,d="";for(c=0;c<b.length;c++)d+=cb(a,b[c]);return d}function cb(a,b){var c,d;return"string"==typeof b?b:(c=b.token)?Wb[c]?Wb[c](a):_(a,c):b.maybe&&(d=bb(a,b.maybe),d.match(/[1-9]/))?d:""}function db(a,b,c,d,e){var f;return a=Ib.moment.parseZone(a),b=Ib.moment.parseZone(b),f=(a.localeData||a.lang).call(a),c=f.longDateFormat(c)||c,d=d||" - ",eb(a,b,gb(c),d,e)}function eb(a,b,c,d,e){var f,g,h,i,j="",k="",l="",m="",n="";for(g=0;g<c.length&&(f=fb(a,b,c[g]),f!==!1);g++)j+=f;for(h=c.length-1;h>g&&(f=fb(a,b,c[h]),f!==!1);h--)k=f+k;for(i=g;h>=i;i++)l+=cb(a,c[i]),m+=cb(b,c[i]);return(l||m)&&(n=e?m+d+l:l+d+m),j+n+k}function fb(a,b,c){var d,e;return"string"==typeof c?c:(d=c.token)&&(e=Xb[d.charAt(0)],e&&a.isSame(b,e))?_(a,d):!1}function gb(a){return a in Yb?Yb[a]:Yb[a]=hb(a)}function hb(a){for(var b,c=[],d=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;b=d.exec(a);)b[1]?c.push(b[1]):b[2]?c.push({maybe:hb(b[2])}):b[3]?c.push({token:b[3]}):b[5]&&c.push(b[5]);return c}function ib(){}function jb(a,b){return a||b?a&&b?a.grid===b.grid&&a.row===b.row&&a.col===b.col:!1:!0}function kb(a){var b=mb(a);return"background"===b||"inverse-background"===b}function lb(a){return"inverse-background"===mb(a)}function mb(a){return O((a.source||{}).rendering,a.rendering)}function nb(a){var b,c,d={};for(b=0;b<a.length;b++)c=a[b],(d[c._id]||(d[c._id]=[])).push(c);return d}function ob(a,b){return a.eventStartMS-b.eventStartMS}function pb(a,b){return a.eventStartMS-b.eventStartMS||b.eventDurationMS-a.eventDurationMS||b.event.allDay-a.event.allDay||(a.event.title||"").localeCompare(b.event.title)}function qb(a){var b,c,d,e,f=Ib.dataAttrPrefix;return f&&(f+="-"),b=a.data(f+"event")||null,b&&(b="object"==typeof b?Hb.extend({},b):{},c=b.start,null==c&&(c=b.time),d=b.duration,e=b.stick,delete b.start,delete b.time,delete b.duration,delete b.stick),null==c&&(c=a.data(f+"start")),null==c&&(c=a.data(f+"time")),null==d&&(d=a.data(f+"duration")),null==e&&(e=a.data(f+"stick")),c=null!=c?moment.duration(c):null,d=null!=d?moment.duration(d):null,e=Boolean(e),{eventProps:b,startTime:c,duration:d,stick:e}}function rb(a,b){var c,d;for(c=0;c<b.length;c++)if(d=b[c],d.leftCol<=a.rightCol&&d.rightCol>=a.leftCol)return!0;return!1}function sb(a,b){return a.leftCol-b.leftCol}function tb(a){var b,c,d;if(a.sort(pb),b=ub(a),vb(b),c=b[0]){for(d=0;d<c.length;d++)wb(c[d]);for(d=0;d<c.length;d++)xb(c[d],0,0)}}function ub(a){var b,c,d,e=[];for(b=0;b<a.length;b++){for(c=a[b],d=0;d<e.length&&yb(c,e[d]).length;d++);c.level=d,(e[d]||(e[d]=[])).push(c)}return e}function vb(a){var b,c,d,e,f;for(b=0;b<a.length;b++)for(c=a[b],d=0;d<c.length;d++)for(e=c[d],e.forwardSegs=[],f=b+1;f<a.length;f++)yb(e,a[f],e.forwardSegs)}function wb(a){var b,c,d=a.forwardSegs,e=0;if(void 0===a.forwardPressure){for(b=0;b<d.length;b++)c=d[b],wb(c),e=Math.max(e,1+c.forwardPressure);a.forwardPressure=e}}function xb(a,b,c){var d,e=a.forwardSegs;if(void 0===a.forwardCoord)for(e.length?(e.sort(Ab),xb(e[0],b+1,c),a.forwardCoord=e[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-c)/(b+1),d=0;d<e.length;d++)xb(e[d],0,a.forwardCoord)}function yb(a,b,c){c=c||[];for(var d=0;d<b.length;d++)zb(a,b[d])&&c.push(b[d]);return c}function zb(a,b){return a.bottom>b.top&&a.top<b.bottom}function Ab(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||pb(a,b)}function Bb(a,b){function c(){S?f()&&(i(),g()):d()}function d(){T=N.theme?"ui":"fc",a.addClass("fc"),a.addClass(N.isRTL?"fc-rtl":"fc-ltr"),a.addClass(N.theme?"ui-widget":"fc-unthemed"),S=Hb("<div class='fc-view-container'/>").prependTo(a),Q=M.header=new Eb(M,N),R=Q.render(),R&&a.prepend(R),g(N.defaultView),N.handleWindowResize&&(X=W(k,N.windowResizeDelay),Hb(window).resize(X))}function e(){U&&U.removeElement(),Q.destroy(),S.remove(),a.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),X&&Hb(window).unbind("resize",X)}function f(){return a.is(":visible")}function g(a){bb++,U&&a&&U.type!==a&&(Q.deactivateButton(U.type),F(),U.removeElement(),U=M.view=null),!U&&a&&(U=M.view=ab[a]||(ab[a]=M.instantiateView(a)),U.setElement(Hb("<div class='fc-view fc-"+a+"-view' />").appendTo(S)),Q.activateButton(a)),U&&(Y=U.massageCurrentDate(Y),U.isDisplayed&&Y.isWithin(U.intervalStart,U.intervalEnd)||f()&&(F(),U.display(Y),G(),s(),t(),o())),G(),bb--}function h(a){return f()?(a&&j(),bb++,U.updateSize(!0),bb--,!0):void 0}function i(){f()&&j()}function j(){V="number"==typeof N.contentHeight?N.contentHeight:"number"==typeof N.height?N.height-(R?R.outerHeight(!0):0):Math.round(S.width()/Math.max(N.aspectRatio,.5))}function k(a){!bb&&a.target===window&&U.start&&h(!0)&&U.trigger("windowResize",_)}function l(){n(),p()}function m(){f()&&(F(),U.displayEvents(cb),G())}function n(){F(),U.clearEvents(),G()}function o(){!N.lazyFetching||Z(U.start,U.end)?p():m()}function p(){$(U.start,U.end)}function q(a){cb=a,m()}function r(){m()}function s(){Q.updateTitle(U.title)}function t(){var a=M.getNow();a.isWithin(U.intervalStart,U.intervalEnd)?Q.disableButton("today"):Q.enableButton("today")}function u(a,b){a=M.moment(a),b=b?M.moment(b):a.clone().add(a.hasTime()?M.defaultTimedEventDuration:M.defaultAllDayEventDuration),U.select({start:a,end:b})}function v(){U&&U.unselect()}function w(){Y=U.computePrevDate(Y),g()}function x(){Y=U.computeNextDate(Y),g()}function y(){Y.add(-1,"years"),g()}function z(){Y.add(1,"years"),g()}function A(){Y=M.getNow(),g()}function B(a){Y=M.moment(a),g()}function C(a){Y.add(moment.duration(a)),g()}function D(a,b){var c;b=b||"day",c=M.getViewSpec(b)||M.getUnitViewSpec(b),Y=a,g(c?c.type:null)}function E(){return Y.clone()}function F(){S.css({width:"100%",height:S.height(),overflow:"hidden"})}function G(){S.css({width:"",height:"",overflow:""})}function H(){return M}function J(){return U}function K(a,b){return void 0===b?N[a]:void(("height"==a||"contentHeight"==a||"aspectRatio"==a)&&(N[a]=b,h(!0)))}function L(a,b){return N[a]?N[a].apply(b||_,Array.prototype.slice.call(arguments,2)):void 0}var M=this;M.initOptions(b||{});var N=this.options;M.render=c,M.destroy=e,M.refetchEvents=l,M.reportEvents=q,M.reportEventChange=r,M.rerenderEvents=m,M.changeView=g,M.select=u,M.unselect=v,M.prev=w,M.next=x,M.prevYear=y,M.nextYear=z,M.today=A,M.gotoDate=B,M.incrementDate=C,M.zoomTo=D,M.getDate=E,M.getCalendar=H,M.getView=J,M.option=K,M.trigger=L;var O=I(Db(N.lang));if(N.monthNames&&(O._months=N.monthNames),N.monthNamesShort&&(O._monthsShort=N.monthNamesShort),N.dayNames&&(O._weekdays=N.dayNames),N.dayNamesShort&&(O._weekdaysShort=N.dayNamesShort),null!=N.firstDay){var P=I(O._week);P.dow=N.firstDay,O._week=P}O._fullCalendar_weekCalc=function(a){return"function"==typeof a?a:"local"===a?a:"iso"===a||"ISO"===a?"ISO":void 0}(N.weekNumberCalculation),M.defaultAllDayEventDuration=moment.duration(N.defaultAllDayEventDuration),M.defaultTimedEventDuration=moment.duration(N.defaultTimedEventDuration),M.moment=function(){var a;return"local"===N.timezone?(a=Ib.moment.apply(null,arguments),a.hasTime()&&a.local()):a="UTC"===N.timezone?Ib.moment.utc.apply(null,arguments):Ib.moment.parseZone.apply(null,arguments),"_locale"in a?a._locale=O:a._lang=O,a},M.getIsAmbigTimezone=function(){return"local"!==N.timezone&&"UTC"!==N.timezone},M.rezoneDate=function(a){return M.moment(a.toArray())},M.getNow=function(){var a=N.now;return"function"==typeof a&&(a=a()),M.moment(a)},M.getEventEnd=function(a){return a.end?a.end.clone():M.getDefaultEventEnd(a.allDay,a.start)},M.getDefaultEventEnd=function(a,b){var c=b.clone();return a?c.stripTime().add(M.defaultAllDayEventDuration):c.add(M.defaultTimedEventDuration),M.getIsAmbigTimezone()&&c.stripZone(),c},M.humanizeDuration=function(a){return(a.locale||a.lang).call(a,N.lang).humanize()},Fb.call(M,N);var Q,R,S,T,U,V,X,Y,Z=M.isFetchNeeded,$=M.fetchEvents,_=a[0],ab={},bb=0,cb=[];Y=null!=N.defaultDate?M.moment(N.defaultDate):M.getNow(),M.getSuggestedViewHeight=function(){return void 0===V&&i(),V},M.isHeightAuto=function(){return"auto"===N.contentHeight||"auto"===N.height}}function Cb(a){Hb.each(mc,function(b,c){null==a[b]&&(a[b]=c(a))})}function Db(a){var b=moment.localeData||moment.langData;return b.call(moment,a)||b.call(moment,"en")}function Eb(a,b){function c(){var a=b.header;return m=b.theme?"ui":"fc",a?n=Hb("<div class='fc-toolbar'/>").append(e("left")).append(e("right")).append(e("center")).append('<div class="fc-clear"/>'):void 0}function d(){n.remove()}function e(c){var d=Hb('<div class="fc-'+c+'"/>'),e=b.header[c];return e&&Hb.each(e.split(" "),function(){var c,e=Hb(),f=!0;Hb.each(this.split(","),function(c,d){var g,h,i,j,k,l,n,p,q;"title"==d?(e=e.add(Hb("<h2>&nbsp;</h2>")),f=!1):(g=a.getViewSpec(d),g?(h=function(){a.changeView(d)},o.push(d),i=g.buttonTextOverride,j=g.buttonTextDefault):a[d]&&(h=function(){a[d]()},i=(a.overrides.buttonText||{})[d],j=b.buttonText[d]),h&&(k=b.themeButtonIcons[d],l=b.buttonIcons[d],n=i?P(i):k&&b.theme?"<span class='ui-icon ui-icon-"+k+"'></span>":l&&!b.theme?"<span class='fc-icon fc-icon-"+l+"'></span>":P(j),p=["fc-"+d+"-button",m+"-button",m+"-state-default"],q=Hb('<button type="button" class="'+p.join(" ")+'">'+n+"</button>").click(function(){q.hasClass(m+"-state-disabled")||(h(),(q.hasClass(m+"-state-active")||q.hasClass(m+"-state-disabled"))&&q.removeClass(m+"-state-hover"))}).mousedown(function(){q.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-down")}).mouseup(function(){q.removeClass(m+"-state-down")}).hover(function(){q.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-hover")},function(){q.removeClass(m+"-state-hover").removeClass(m+"-state-down")}),e=e.add(q)))}),f&&e.first().addClass(m+"-corner-left").end().last().addClass(m+"-corner-right").end(),e.length>1?(c=Hb("<div/>"),f&&c.addClass("fc-button-group"),c.append(e),d.append(c)):d.append(e)}),d}function f(a){n.find("h2").text(a)}function g(a){n.find(".fc-"+a+"-button").addClass(m+"-state-active")}function h(a){n.find(".fc-"+a+"-button").removeClass(m+"-state-active")}function i(a){n.find(".fc-"+a+"-button").attr("disabled","disabled").addClass(m+"-state-disabled")}function j(a){n.find(".fc-"+a+"-button").removeAttr("disabled").removeClass(m+"-state-disabled")}function k(){return o}var l=this;l.render=c,l.destroy=d,l.updateTitle=f,l.activateButton=g,l.deactivateButton=h,l.disableButton=i,l.enableButton=j,l.getViewsWithButtons=k;var m,n=Hb(),o=[]}function Fb(a){function b(a,b){return!Q||a.clone().stripZone()<Q.clone().stripZone()||b.clone().stripZone()>R.clone().stripZone()}function c(a,b){Q=a,R=b,$=[];var c=++X,e=W.length;Y=e;for(var f=0;e>f;f++)d(W[f],c)}function d(a,b){e(a,function(c){var d,e,f,g=Hb.isArray(a.events);if(b==X){if(c)for(d=0;d<c.length;d++)e=c[d],f=g?e:s(e,a),f&&$.push.apply($,x(f));Y--,Y||U($)}})}function e(b,c){var d,f,g=Ib.sourceFetchers;for(d=0;d<g.length;d++){if(f=g[d].call(P,b,Q.clone(),R.clone(),a.timezone,c),f===!0)return;if("object"==typeof f)return void e(f,c)}var h=b.events;if(h)Hb.isFunction(h)?(q(),h.call(P,Q.clone(),R.clone(),a.timezone,function(a){c(a),r()})):Hb.isArray(h)?c(h):c();else{var i=b.url;if(i){var j,k=b.success,l=b.error,m=b.complete;j=Hb.isFunction(b.data)?b.data():b.data;var n=Hb.extend({},j||{}),o=O(b.startParam,a.startParam),p=O(b.endParam,a.endParam),s=O(b.timezoneParam,a.timezoneParam);o&&(n[o]=Q.format()),p&&(n[p]=R.format()),a.timezone&&"local"!=a.timezone&&(n[s]=a.timezone),q(),Hb.ajax(Hb.extend({},nc,b,{data:n,success:function(a){a=a||[];var b=N(k,this,arguments);Hb.isArray(b)&&(a=b),c(a)},error:function(){N(l,this,arguments),c()},complete:function(){N(m,this,arguments),r()}}))}else c()}}function f(a){var b=g(a);b&&(W.push(b),Y++,d(b,X))}function g(a){var b,c,d=Ib.sourceNormalizers;if(Hb.isFunction(a)||Hb.isArray(a)?b={events:a}:"string"==typeof a?b={url:a}:"object"==typeof a&&(b=Hb.extend({},a)),b){for(b.className?"string"==typeof b.className&&(b.className=b.className.split(/\s+/)):b.className=[],Hb.isArray(b.events)&&(b.origArray=b.events,b.events=Hb.map(b.events,function(a){return s(a,b)})),c=0;c<d.length;c++)d[c].call(P,b);return b}}function h(a){W=Hb.grep(W,function(b){return!i(b,a)}),$=Hb.grep($,function(b){return!i(b.source,a)}),U($)}function i(a,b){return a&&b&&j(a)==j(b)}function j(a){return("object"==typeof a?a.origArray||a.googleCalendarId||a.url||a.events:null)||a}function k(a){a.start=P.moment(a.start),a.end=a.end?P.moment(a.end):null,y(a,l(a)),U($)}function l(a){var b={};return Hb.each(a,function(a,c){m(a)&&void 0!==c&&M(c)&&(b[a]=c)}),b}function m(a){return!/^_|^(id|allDay|start|end)$/.test(a)}function n(a,b){var c,d,e,f=s(a);if(f){for(c=x(f),d=0;d<c.length;d++)e=c[d],e.source||(b&&(V.events.push(e),e.source=V),$.push(e));return U($),c}return[]}function o(a){var b,c;for(null==a?a=function(){return!0}:Hb.isFunction(a)||(b=a+"",a=function(a){return a._id==b}),$=Hb.grep($,a,!0),c=0;c<W.length;c++)Hb.isArray(W[c].events)&&(W[c].events=Hb.grep(W[c].events,a,!0));U($)}function p(a){return Hb.isFunction(a)?Hb.grep($,a):null!=a?(a+="",Hb.grep($,function(b){return b._id==a})):$}function q(){Z++||S("loading",null,!0,T())}function r(){--Z||S("loading",null,!1,T())}function s(b,c){var d,e,f,g={};if(a.eventDataTransform&&(b=a.eventDataTransform(b)),c&&c.eventDataTransform&&(b=c.eventDataTransform(b)),Hb.extend(g,b),c&&(g.source=c),g._id=b._id||(void 0===b.id?"_fc"+oc++:b.id+""),g.className=b.className?"string"==typeof b.className?b.className.split(/\s+/):b.className:[],d=b.start||b.date,e=b.end,H(d)&&(d=moment.duration(d)),H(e)&&(e=moment.duration(e)),b.dow||moment.isDuration(d)||moment.isDuration(e))g.start=d?moment.duration(d):null,g.end=e?moment.duration(e):null,g._recurring=!0;else{if(d&&(d=P.moment(d),!d.isValid()))return!1;e&&(e=P.moment(e),e.isValid()||(e=null)),f=b.allDay,void 0===f&&(f=O(c?c.allDayDefault:void 0,a.allDayDefault)),t(d,e,f,g)}return g}function t(a,b,c,d){d.start=a,d.end=b,d.allDay=c,u(d),Gb(d)}function u(b){v(b),b.end&&!b.end.isAfter(b.start)&&(b.end=null),b.end||(b.end=a.forceEventDuration?P.getDefaultEventEnd(b.allDay,b.start):null)}function v(a){null==a.allDay&&(a.allDay=!(a.start.hasTime()||a.end&&a.end.hasTime())),a.allDay?(a.start.stripTime(),a.end&&a.end.stripTime()):(a.start.hasTime()||(a.start=P.rezoneDate(a.start)),a.end&&!a.end.hasTime()&&(a.end=P.rezoneDate(a.end)))}function w(a){var b;return a.end||(b=a.allDay,null==b&&(b=!a.start.hasTime()),a=Hb.extend({},a),a.end=P.getDefaultEventEnd(b,a.start)),a}function x(a,b,c){var d,e,f,g,h,i,j,k,l,m=[];if(b=b||Q,c=c||R,a)if(a._recurring){if(e=a.dow)for(d={},f=0;f<e.length;f++)d[e[f]]=!0;for(g=b.clone().stripTime();g.isBefore(c);)(!d||d[g.day()])&&(h=a.start,i=a.end,j=g.clone(),k=null,h&&(j=j.time(h)),i&&(k=g.clone().time(i)),l=Hb.extend({},a),t(j,k,!h&&!i,l),m.push(l)),g.add(1,"days")}else m.push(a);return m}function y(a,b,c){function d(a,d){return c?C(a,d,c):b.allDay?B(a,d):A(a,d)}var e,f,g,h,i,j,k={};return b=b||{},b.start||(b.start=a.start.clone()),void 0===b.end&&(b.end=a.end?a.end.clone():null),null==b.allDay&&(b.allDay=a.allDay),u(b),e={start:a._start.clone(),end:a._end?a._end.clone():P.getDefaultEventEnd(a._allDay,a._start),allDay:b.allDay},u(e),f=null!==a._end&&null===b.end,g=d(b.start,e.start),b.end?(h=d(b.end,e.end),i=h.subtract(g)):i=null,Hb.each(b,function(a,b){m(a)&&void 0!==b&&(k[a]=b)}),j=z(p(a._id),f,b.allDay,g,i,k),{dateDelta:g,durationDelta:i,undo:j}}function z(a,b,c,d,e,f){var g=P.getIsAmbigTimezone(),h=[];return d&&!d.valueOf()&&(d=null),e&&!e.valueOf()&&(e=null),Hb.each(a,function(a,i){var j,k;j={start:i.start.clone(),end:i.end?i.end.clone():null,allDay:i.allDay},Hb.each(f,function(a){j[a]=i[a]}),k={start:i._start,end:i._end,allDay:c},u(k),b?k.end=null:e&&!k.end&&(k.end=P.getDefaultEventEnd(k.allDay,k.start)),d&&(k.start.add(d),k.end&&k.end.add(d)),e&&k.end.add(e),g&&!k.allDay&&(d||e)&&(k.start.stripZone(),k.end&&k.end.stripZone()),Hb.extend(i,f,k),Gb(i),h.push(function(){Hb.extend(i,j),Gb(i)})}),function(){for(var a=0;a<h.length;a++)h[a]()}}function D(b){var c,d=a.businessHours,e={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},f=P.getView();return d&&(c=Hb.extend({},e,"object"==typeof d?d:{})),c?(b&&(c.start=null,c.end=null),x(s(c),f.start,f.end)):[]}function E(b,c){var d=c.source||{},e=O(c.constraint,d.constraint,a.eventConstraint),f=O(c.overlap,d.overlap,a.eventOverlap);return b=w(b),I(b,e,f,c)}function F(b){return I(b,a.selectConstraint,a.selectOverlap)}function G(a,b){var c,d;return b&&(c=Hb.extend({},b,a),d=x(s(c))[0]),d?E(a,d):(a=w(a),F(a))}function I(a,b,c,d){var e,f,g,h,i,j;if(a=Hb.extend({},a),a.start=a.start.clone().stripZone(),a.end=a.end.clone().stripZone(),null!=b){for(e=J(b),f=!1,h=0;h<e.length;h++)if(K(e[h],a)){f=!0;break}if(!f)return!1}for(g=P.getPeerEvents(d,a),h=0;h<g.length;h++)if(i=g[h],L(i,a)){if(c===!1)return!1;if("function"==typeof c&&!c(i,d))return!1;if(d){if(j=O(i.overlap,(i.source||{}).overlap),j===!1)return!1;if("function"==typeof j&&!j(d,i))return!1}}return!0}function J(a){return"businessHours"===a?D():"object"==typeof a?x(s(a)):p(a)}function K(a,b){var c=a.start.clone().stripZone(),d=P.getEventEnd(a).stripZone();return b.start>=c&&b.end<=d}function L(a,b){var c=a.start.clone().stripZone(),d=P.getEventEnd(a).stripZone();return b.start<d&&b.end>c}var P=this;P.isFetchNeeded=b,P.fetchEvents=c,P.addEventSource=f,P.removeEventSource=h,P.updateEvent=k,P.renderEvent=n,P.removeEvents=o,P.clientEvents=p,P.mutateEvent=y,P.normalizeEventRange=u,P.normalizeEventRangeTimes=v,P.ensureVisibleEventRange=w;var Q,R,S=P.trigger,T=P.getView,U=P.reportEvents,V={events:[]},W=[V],X=0,Y=0,Z=0,$=[];Hb.each((a.events?[a.events]:[]).concat(a.eventSources||[]),function(a,b){var c=g(b);c&&W.push(c)}),P.getBusinessHoursEvents=D,P.isEventRangeAllowed=E,P.isSelectionRangeAllowed=F,P.isExternalDropRangeAllowed=G,P.getEventCache=function(){return $}}function Gb(a){a._allDay=a.allDay,a._start=a.start.clone(),a._end=a.end?a.end.clone():null}var Hb=a("jquery");a("moment"),a("./fullcalendar.css");var Ib=Hb.fullCalendar={version:"2.3.1"},Jb=Ib.views={};Hb.fn.fullCalendar=function(a){var b=Array.prototype.slice.call(arguments,1),c=this;return this.each(function(d,e){var f,g=Hb(e),h=g.data("fullCalendar");"string"==typeof a?h&&Hb.isFunction(h[a])&&(f=h[a].apply(h,b),d||(c=f),"destroy"===a&&g.removeData("fullCalendar")):h||(h=new Ib.CalendarBase(g,a),g.data("fullCalendar",h),h.render())}),c};var Kb=["header","buttonText","buttonIcons","themeButtonIcons"];Ib.intersectionToSeg=z,Ib.applyAll=N,Ib.debounce=W,Ib.isInt=U,Ib.htmlEscape=P,Ib.cssToStr=R,Ib.proxy=V,Ib.getClientRect=o,Ib.getContentRect=p,Ib.getScrollbarWidths=q;var Lb=null;Ib.computeIntervalUnit=D,Ib.durationHasTime=F;var Mb,Nb,Ob,Pb=["sun","mon","tue","wed","thu","fri","sat"],Qb=["year","month","week","day","hour","minute","second","millisecond"],Rb={}.hasOwnProperty,Sb=/^\s*\d{4}-\d\d$/,Tb=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Ub=moment.fn,Vb=Hb.extend({},Ub);Ib.moment=function(){return X(arguments)},Ib.moment.utc=function(){var a=X(arguments,!0);return a.hasTime()&&a.utc(),a},Ib.moment.parseZone=function(){return X(arguments,!0,!0)},Ub.clone=function(){var a=Vb.clone.apply(this,arguments);return Z(this,a),this._fullCalendar&&(a._fullCalendar=!0),a},Ub.week=Ub.weeks=function(a){var b=(this._locale||this._lang)._fullCalendar_weekCalc;return null==a&&"function"==typeof b?b(this):"ISO"===b?Vb.isoWeek.apply(this,arguments):Vb.week.apply(this,arguments)},Ub.time=function(a){if(!this._fullCalendar)return Vb.time.apply(this,arguments);if(null==a)return moment.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,moment.isDuration(a)||moment.isMoment(a)||(a=moment.duration(a));var b=0;return moment.isDuration(a)&&(b=24*Math.floor(a.asDays())),this.hours(b+a.hours()).minutes(a.minutes()).seconds(a.seconds()).milliseconds(a.milliseconds())},Ub.stripTime=function(){var a;return this._ambigTime||(a=this.toArray(),this.utc(),Nb(this,a.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Ub.hasTime=function(){return!this._ambigTime},Ub.stripZone=function(){var a,b;return this._ambigZone||(a=this.toArray(),b=this._ambigTime,this.utc(),Nb(this,a),this._ambigTime=b||!1,this._ambigZone=!0),this},Ub.hasZone=function(){return!this._ambigZone},Ub.local=function(){var a=this.toArray(),b=this._ambigZone;return Vb.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,b&&Ob(this,a),this},Ub.utc=function(){return Vb.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},Hb.each(["zone","utcOffset"],function(a,b){Vb[b]&&(Ub[b]=function(a){return null!=a&&(this._ambigTime=!1,this._ambigZone=!1),Vb[b].apply(this,arguments)})}),Ub.format=function(){return this._fullCalendar&&arguments[0]?ab(this,arguments[0]):this._ambigTime?_(this,"YYYY-MM-DD"):this._ambigZone?_(this,"YYYY-MM-DD[T]HH:mm:ss"):Vb.format.apply(this,arguments)},Ub.toISOString=function(){return this._ambigTime?_(this,"YYYY-MM-DD"):this._ambigZone?_(this,"YYYY-MM-DD[T]HH:mm:ss"):Vb.toISOString.apply(this,arguments)},Ub.isWithin=function(a,b){var c=Y([this,a,b]);return c[0]>=c[1]&&c[0]<c[2]},Ub.isSame=function(a,b){var c;return this._fullCalendar?b?(c=Y([this,a],!0),Vb.isSame.call(c[0],c[1],b)):(a=Ib.moment.parseZone(a),Vb.isSame.call(this,a)&&Boolean(this._ambigTime)===Boolean(a._ambigTime)&&Boolean(this._ambigZone)===Boolean(a._ambigZone)):Vb.isSame.apply(this,arguments)},Hb.each(["isBefore","isAfter"],function(a,b){Ub[b]=function(a,c){var d;return this._fullCalendar?(d=Y([this,a]),Vb[b].call(d[0],d[1],c)):Vb[b].apply(this,arguments)}}),Mb="_d"in moment()&&"updateOffset"in moment,Nb=Mb?function(a,b){a._d.setTime(Date.UTC.apply(Date,b)),moment.updateOffset(a,!1)}:$,Ob=Mb?function(a,b){a._d.setTime(+new Date(b[0]||0,b[1]||0,b[2]||0,b[3]||0,b[4]||0,b[5]||0,b[6]||0)),moment.updateOffset(a,!1)}:$;var Wb={t:function(a){return _(a,"a").charAt(0)},T:function(a){return _(a,"A").charAt(0)}};Ib.formatRange=db;var Xb={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Yb={};Ib.Class=ib,ib.extend=function(a){var b,c=this;return a=a||{},L(a,"constructor")&&(b=a.constructor),"function"!=typeof b&&(b=a.constructor=function(){c.apply(this,arguments)}),b.prototype=I(c.prototype),J(a,b.prototype),K(a,b.prototype),J(c,b),b},ib.mixin=function(a){J(a.prototype||a,this.prototype)};var Zb=ib.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(a){this.options=a||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var a=this,b=this.options;this.el=Hb('<div class="fc-popover"/>').addClass(b.className||"").css({top:0,left:0}).append(b.content).appendTo(b.parentEl),this.el.on("click",".fc-close",function(){a.hide()}),b.autoHide&&Hb(document).on("mousedown",this.documentMousedownProxy=V(this,"documentMousedown"))},documentMousedown:function(a){this.el&&!Hb(a.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),Hb(document).off("mousedown",this.documentMousedownProxy)},position:function(){var a,b,c,d,e,f=this.options,g=this.el.offsetParent().offset(),h=this.el.outerWidth(),i=this.el.outerHeight(),j=Hb(window),k=m(this.el);d=f.top||0,e=void 0!==f.left?f.left:void 0!==f.right?f.right-h:0,k.is(window)||k.is(document)?(k=j,a=0,b=0):(c=k.offset(),a=c.top,b=c.left),a+=j.scrollTop(),b+=j.scrollLeft(),f.viewportConstrain!==!1&&(d=Math.min(d,a+k.outerHeight()-i-this.margin),d=Math.max(d,a+this.margin),e=Math.min(e,b+k.outerWidth()-h-this.margin),e=Math.max(e,b+this.margin)),this.el.css({top:d-g.top,left:e-g.left})},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))}}),$b=ib.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(a){this.grid=a},build:function(){this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.rowCoords=null,this.colCoords=null},getCell:function(a,b){var c,d,e,f=this.rowCoords,g=f.length,h=this.colCoords,i=h.length,j=null,k=null;if(this.inBounds(a,b)){for(c=0;g>c;c++)if(d=f[c],b>=d.top&&b<d.bottom){j=c;break}for(c=0;i>c;c++)if(d=h[c],a>=d.left&&a<d.right){k=c;break}if(null!==j&&null!==k)return e=this.grid.getCell(j,k),e.grid=this.grid,Hb.extend(e,f[j],h[k]),e}return null},computeBounds:function(){this.bounds=this.containerEl?o(this.containerEl):null},inBounds:function(a,b){var c=this.bounds;return c?a>=c.left&&a<c.right&&b>=c.top&&b<c.bottom:!0}}),_b=ib.extend({coordMaps:null,constructor:function(a){this.coordMaps=a},build:function(){var a,b=this.coordMaps;for(a=0;a<b.length;a++)b[a].build()},getCell:function(a,b){var c,d=this.coordMaps,e=null;for(c=0;c<d.length&&!e;c++)e=d[c].getCell(a,b);return e},clear:function(){var a,b=this.coordMaps;for(a=0;a<b.length;a++)b[a].clear()}}),ac=Ib.DragListener=ib.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(a){a=a||{},this.options=a,this.subjectEl=a.subjectEl
},mousedown:function(a){u(a)&&(a.preventDefault(),this.startListening(a),this.options.distance||this.startDrag(a))},startListening:function(a){var b;this.isListening||(a&&this.options.scroll&&(b=m(Hb(a.target)),b.is(window)||b.is(document)||(this.scrollEl=b,this.scrollHandlerProxy=W(V(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),Hb(document).on("mousemove",this.mousemoveProxy=V(this,"mousemove")).on("mouseup",this.mouseupProxy=V(this,"mouseup")).on("selectstart",this.preventDefault),a?(this.originX=a.pageX,this.originY=a.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(a))},listenStart:function(a){this.trigger("listenStart",a)},mousemove:function(a){var b,c,d=a.pageX-this.originX,e=a.pageY-this.originY;this.isDragging||(b=this.options.distance||1,c=d*d+e*e,c>=b*b&&this.startDrag(a)),this.isDragging&&this.drag(d,e,a)},startDrag:function(a){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(a))},dragStart:function(a){var b=this.subjectEl;this.trigger("dragStart",a),(this.subjectHref=b?b.attr("href"):null)&&b.removeAttr("href")},drag:function(a,b,c){this.trigger("drag",a,b,c),this.updateScroll(c)},mouseup:function(a){this.stopListening(a)},stopDrag:function(a){this.isDragging&&(this.stopScrolling(),this.dragStop(a),this.isDragging=!1)},dragStop:function(a){var b=this;this.trigger("dragStop",a),setTimeout(function(){b.subjectHref&&b.subjectEl.attr("href",b.subjectHref)},0)},stopListening:function(a){this.stopDrag(a),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),Hb(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(a))},listenStop:function(a){this.trigger("listenStop",a)},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(a){a.preventDefault()},computeScrollBounds:function(){var a=this.scrollEl;this.scrollBounds=a?n(a):null},updateScroll:function(a){var b,c,d,e,f=this.scrollSensitivity,g=this.scrollBounds,h=0,i=0;g&&(b=(f-(a.pageY-g.top))/f,c=(f-(g.bottom-a.pageY))/f,d=(f-(a.pageX-g.left))/f,e=(f-(g.right-a.pageX))/f,b>=0&&1>=b?h=b*this.scrollSpeed*-1:c>=0&&1>=c&&(h=c*this.scrollSpeed),d>=0&&1>=d?i=d*this.scrollSpeed*-1:e>=0&&1>=e&&(i=e*this.scrollSpeed)),this.setScrollVel(h,i)},setScrollVel:function(a,b){this.scrollTopVel=a,this.scrollLeftVel=b,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(V(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var a=this.scrollEl;this.scrollTopVel<0?a.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&a.scrollTop()+a[0].clientHeight>=a[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?a.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&a.scrollLeft()+a[0].clientWidth>=a[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var a=this.scrollEl,b=this.scrollIntervalMs/1e3;this.scrollTopVel&&a.scrollTop(a.scrollTop()+this.scrollTopVel*b),this.scrollLeftVel&&a.scrollLeft(a.scrollLeft()+this.scrollLeftVel*b),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),bc=ac.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(a,b){ac.prototype.constructor.call(this,b),this.coordMap=a},listenStart:function(a){var b,c,d,e=this.subjectEl;ac.prototype.listenStart.apply(this,arguments),this.computeCoords(),a?(c={left:a.pageX,top:a.pageY},d=c,e&&(b=n(e),d=w(d,b)),this.origCell=this.getCell(d.left,d.top),e&&this.options.subjectCenter&&(this.origCell&&(b=v(this.origCell,b)||b),d=x(b)),this.coordAdjust=y(d,c)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(a){var b;ac.prototype.dragStart.apply(this,arguments),b=this.getCell(a.pageX,a.pageY),b&&this.cellOver(b)},drag:function(a,b,c){var d;ac.prototype.drag.apply(this,arguments),d=this.getCell(c.pageX,c.pageY),jb(d,this.cell)||(this.cell&&this.cellOut(),d&&this.cellOver(d))},dragStop:function(){this.cellDone(),ac.prototype.dragStop.apply(this,arguments)},cellOver:function(a){this.cell=a,this.trigger("cellOver",a,jb(a,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){ac.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){ac.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(a,b){return this.coordAdjust&&(a+=this.coordAdjust.left,b+=this.coordAdjust.top),this.coordMap.getCell(a,b)}}),cc=ib.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(a,b){this.options=b=b||{},this.sourceEl=a,this.parentEl=b.parentEl?Hb(b.parentEl):a.parent()},start:function(a){this.isFollowing||(this.isFollowing=!0,this.mouseY0=a.pageY,this.mouseX0=a.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),Hb(document).on("mousemove",this.mousemoveProxy=V(this,"mousemove")))},stop:function(a,b){function c(){this.isAnimating=!1,d.destroyEl(),this.top0=this.left0=null,b&&b()}var d=this,e=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,Hb(document).off("mousemove",this.mousemoveProxy),a&&e&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:e,complete:c})):c())},getEl:function(){var a=this.el;return a||(this.sourceEl.width(),a=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),a},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var a,b;this.getEl(),null===this.top0&&(this.sourceEl.width(),a=this.sourceEl.offset(),b=this.el.offsetParent().offset(),this.top0=a.top-b.top,this.left0=a.left-b.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(a){this.topDelta=a.pageY-this.mouseY0,this.leftDelta=a.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),dc=ib.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(a){this.view=a,this.isRTL=a.opt("isRTL")},rowHtml:function(a,b){var c,d,e=this.getHtmlRenderer("cell",a),f="";for(b=b||0,c=0;c<this.colCnt;c++)d=this.getCell(b,c),f+=e(d);return f=this.bookendCells(f,a,b),"<tr>"+f+"</tr>"},bookendCells:function(a,b,c){var d=this.getHtmlRenderer("intro",b)(c||0),e=this.getHtmlRenderer("outro",b)(c||0),f=this.isRTL?e:d,g=this.isRTL?d:e;return"string"==typeof a?f+a+g:a.prepend(f).append(g)},getHtmlRenderer:function(a,b){var c,d,e,f,g=this.view;return c=a+"Html",b&&(d=b+S(a)+"Html"),d&&(f=g[d])?e=g:d&&(f=this[d])?e=this:(f=g[c])?e=g:(f=this[c])&&(e=this),"function"==typeof f?function(){return f.apply(e,arguments)||""}:function(){return f||""}}}),ec=Ib.Grid=dc.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){dc.apply(this,arguments),this.coordMap=new $b(this),this.elsByFill={},this.externalDragStartProxy=V(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(a){var b,c,d=this.view;this.start=a.start.clone(),this.end=a.end.clone(),this.rowData=[],this.colData=[],this.updateCells(),this.colHeadFormat=d.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=d.opt("eventTimeFormat")||d.opt("timeFormat")||this.computeEventTimeFormat(),b=d.opt("displayEventTime"),null==b&&(b=this.computeDisplayEventTime()),c=d.opt("displayEventEnd"),null==c&&(c=this.computeDisplayEventEnd()),this.displayEventTime=b,this.displayEventEnd=c},updateCells:function(){},rangeToSegs:function(){},diffDates:function(a,b){return this.largeUnit?C(a,b,this.largeUnit):A(a,b)},getCell:function(a,b){var c;return null==b&&("number"==typeof a?(b=a%this.colCnt,a=Math.floor(a/this.colCnt)):(b=a.col,a=a.row)),c={row:a,col:b},Hb.extend(c,this.getRowData(a),this.getColData(b)),Hb.extend(c,this.computeCellRange(c)),c},computeCellRange:function(a){var b=this.computeCellDate(a);return{start:b,end:b.clone().add(this.cellDuration)}},computeCellDate:function(){},getRowData:function(a){return this.rowData[a]||{}},getColData:function(a){return this.colData[a]||{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(a){return this.getColEl(a.col)||this.getRowEl(a.row)},computeRowCoords:function(){var a,b,c,d=[];for(a=0;a<this.rowCnt;a++)b=this.getRowEl(a),c=b.offset().top,d.push({top:c,bottom:c+b.outerHeight()});return d},computeColCoords:function(){var a,b,c,d=[];for(a=0;a<this.colCnt;a++)b=this.getColEl(a),c=b.offset().left,d.push({left:c,right:c+b.outerWidth()});return d},setElement:function(a){var b=this;this.el=a,a.on("mousedown",function(a){Hb(a.target).is(".fc-event-container *, .fc-more")||Hb(a.target).closest(".fc-popover").length||b.dayMousedown(a)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},destroyDates:function(){},bindGlobalHandlers:function(){Hb(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){Hb(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(a){var b,c,d=this,e=this.view,h=e.opt("selectable"),i=new bc(this.coordMap,{scroll:e.opt("dragScroll"),dragStart:function(){e.unselect()},cellOver:function(a,e,g){g&&(b=e?a:null,h&&(c=d.computeSelection(g,a),c?d.renderSelection(c):f()))},cellOut:function(){b=null,c=null,d.destroySelection(),g()},listenStop:function(a){b&&e.trigger("dayClick",d.getCellDayEl(b),b.start,a),c&&e.reportSelection(c,a),g()}});i.mousedown(a)},renderRangeHelper:function(a,b){var c=this.fabricateHelperEvent(a,b);this.renderHelper(c,b)},fabricateHelperEvent:function(a,b){var c=b?I(b.event):{};return c.start=a.start.clone(),c.end=a.end?a.end.clone():null,c.allDay=null,this.view.calendar.normalizeEventRange(c),c.className=(c.className||[]).concat("fc-helper"),b||(c.editable=!1),c},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(a){this.renderHighlight(a)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(a,b){var c,d=[a.start,a.end,b.start,b.end];return d.sort(T),c={start:d[0].clone(),end:d[3].clone()},this.view.calendar.isSelectionRangeAllowed(c)?c:null},renderHighlight:function(a){this.renderFill("highlight",this.rangeToSegs(a))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(a){var b=this.elsByFill[a];b&&(b.remove(),delete this.elsByFill[a])},renderFillSegEls:function(a,b){var c,d=this,e=this[a+"SegEl"],f="",g=[];if(b.length){for(c=0;c<b.length;c++)f+=this.fillSegHtml(a,b[c]);Hb(f).each(function(a,c){var f=b[a],h=Hb(c);e&&(h=e.call(d,f,h)),h&&(h=Hb(h),h.is(d.fillSegTag)&&(f.el=h,g.push(f)))})}return g},fillSegTag:"div",fillSegHtml:function(a,b){var c=this[a+"SegClasses"],d=this[a+"SegCss"],e=c?c.call(this,b):[],f=R(d?d.call(this,b):{});return"<"+this.fillSegTag+(e.length?' class="'+e.join(" ")+'"':"")+(f?' style="'+f+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(a){var b=this.view,c=a.start;return'<th class="fc-day-header '+b.widgetHeaderClass+" fc-"+Pb[c.day()]+'">'+P(c.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(a){var b=this.view,c=a.start,d=this.getDayClasses(c);return d.unshift("fc-day",b.widgetContentClass),'<td class="'+d.join(" ")+'" data-date="'+c.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(a){var b=this.view,c=b.calendar.getNow().stripTime(),d=["fc-"+Pb[a.day()]];return 1==b.intervalDuration.as("months")&&a.month()!=b.intervalStart.month()&&d.push("fc-other-month"),a.isSame(c,"day")?d.push("fc-today",b.highlightStateClass):d.push(c>a?"fc-past":"fc-future"),d}});ec.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(a){var b,c,d=this.eventsToSegs(a),e=[],f=[];for(b=0;b<d.length;b++)c=d[b],kb(c.event)?e.push(c):f.push(c);e=this.renderBgSegs(e)||e,f=this.renderFgSegs(f)||f,this.segs=e.concat(f)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(a,b){var c,d=this.view,e="",f=[];if(a.length){for(c=0;c<a.length;c++)e+=this.fgSegHtml(a[c],b);Hb(e).each(function(b,c){var e=a[b],g=d.resolveEventEl(e.event,Hb(c));g&&(g.data("fc-seg",e),e.el=g,f.push(e))})}return f},fgSegHtml:function(){},renderBgSegs:function(a){return this.renderFill("bgEvent",a)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(a,b){return this.view.resolveEventEl(a.event,b)},bgEventSegClasses:function(a){var b=a.event,c=b.source||{};return["fc-bgevent"].concat(b.className,c.className||[])},bgEventSegCss:function(a){var b=this.view,c=a.event,d=c.source||{};return{"background-color":c.backgroundColor||c.color||d.backgroundColor||d.color||b.opt("eventBackgroundColor")||b.opt("eventColor")}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var a=this,b=this.view;Hb.each({mouseenter:function(b,c){a.triggerSegMouseover(b,c)},mouseleave:function(b,c){a.triggerSegMouseout(b,c)},click:function(a,c){return b.trigger("eventClick",this,a.event,c)},mousedown:function(c,d){Hb(d.target).is(".fc-resizer")&&b.isEventResizable(c.event)?a.segResizeMousedown(c,d,Hb(d.target).is(".fc-start-resizer")):b.isEventDraggable(c.event)&&a.segDragMousedown(c,d)}},function(b,c){a.el.on(b,".fc-event-container > *",function(b){var d=Hb(this).data("fc-seg");return!d||a.isDraggingSeg||a.isResizingSeg?void 0:c.call(this,d,b)})})},triggerSegMouseover:function(a,b){this.mousedOverSeg||(this.mousedOverSeg=a,this.view.trigger("eventMouseover",a.el[0],a.event,b))},triggerSegMouseout:function(a,b){b=b||{},this.mousedOverSeg&&(a=a||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",a.el[0],a.event,b))},segDragMousedown:function(a,b){var c,d=this,e=this.view,h=e.calendar,i=a.el,j=a.event,k=new cc(a.el,{parentEl:e.el,opacity:e.opt("dragOpacity"),revertDuration:e.opt("dragRevertDuration"),zIndex:2}),l=new bc(e.coordMap,{distance:5,scroll:e.opt("dragScroll"),subjectEl:i,subjectCenter:!0,listenStart:function(a){k.hide(),k.start(a)},dragStart:function(b){d.triggerSegMouseout(a,b),d.segDragStart(a,b),e.hideEvent(j)},cellOver:function(b,g,i){a.cell&&(i=a.cell),c=d.computeEventDrop(i,b,j),c&&!h.isEventRangeAllowed(c,j)&&(f(),c=null),c&&e.renderDrag(c,a)?k.hide():k.show(),g&&(c=null)},cellOut:function(){e.destroyDrag(),k.show(),c=null},cellDone:function(){g()},dragStop:function(b){k.stop(!c,function(){e.destroyDrag(),e.showEvent(j),d.segDragStop(a,b),c&&e.reportEventDrop(j,c,this.largeUnit,i,b)})},listenStop:function(){k.stop()}});l.mousedown(b)},segDragStart:function(a,b){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",a.el[0],a.event,b,{})},segDragStop:function(a,b){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",a.el[0],a.event,b,{})},computeEventDrop:function(a,b,c){var d,e,f=this.view.calendar,g=a.start,h=b.start;return g.hasTime()===h.hasTime()?(d=this.diffDates(h,g),c.allDay&&F(d)?(e={start:c.start.clone(),end:f.getEventEnd(c),allDay:!1},f.normalizeEventRangeTimes(e)):e={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay},e.start.add(d),e.end&&e.end.add(d)):e={start:h.clone(),end:null,allDay:!h.hasTime()},e},applyDragOpacity:function(a){var b=this.view.opt("dragOpacity");null!=b&&a.each(function(a,c){c.style.opacity=b})},externalDragStart:function(a,b){var c,d,e=this.view;e.opt("droppable")&&(c=Hb((b?b.item:null)||a.target),d=e.opt("dropAccept"),(Hb.isFunction(d)?d.call(c[0],c):c.is(d))&&(this.isDraggingExternal||this.listenToExternalDrag(c,a,b)))},listenToExternalDrag:function(a,b,c){var d,e,h=this,i=qb(a);d=new bc(this.coordMap,{listenStart:function(){h.isDraggingExternal=!0},cellOver:function(a){e=h.computeExternalDrop(a,i),e?h.renderDrag(e):f()},cellOut:function(){e=null,h.destroyDrag(),g()},dragStop:function(){h.destroyDrag(),g(),e&&h.view.reportExternalDrop(i,e,a,b,c)},listenStop:function(){h.isDraggingExternal=!1}}),d.startDrag(b)},computeExternalDrop:function(a,b){var c={start:a.start.clone(),end:null};return b.startTime&&!c.start.hasTime()&&c.start.time(b.startTime),b.duration&&(c.end=c.start.clone().add(b.duration)),this.view.calendar.isExternalDropRangeAllowed(c,b.eventProps)?c:null},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(a,b,c){var d,e,h=this,i=this.view,j=i.calendar,k=a.el,l=a.event,m=j.getEventEnd(l);d=new bc(this.coordMap,{distance:5,scroll:i.opt("dragScroll"),subjectEl:k,dragStart:function(b){h.triggerSegMouseout(a,b),h.segResizeStart(a,b)},cellOver:function(b,d,g){e=c?h.computeEventStartResize(g,b,l):h.computeEventEndResize(g,b,l),e&&(j.isEventRangeAllowed(e,l)?e.start.isSame(l.start)&&e.end.isSame(m)&&(e=null):(f(),e=null)),e&&(i.hideEvent(l),h.renderEventResize(e,a))},cellOut:function(){e=null},cellDone:function(){h.destroyEventResize(),i.showEvent(l),g()},dragStop:function(b){h.segResizeStop(a,b),e&&i.reportEventResize(l,e,this.largeUnit,k,b)}}),d.mousedown(b)},segResizeStart:function(a,b){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",a.el[0],a.event,b,{})},segResizeStop:function(a,b){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",a.el[0],a.event,b,{})},computeEventStartResize:function(a,b,c){return this.computeEventResize("start",a,b,c)},computeEventEndResize:function(a,b,c){return this.computeEventResize("end",a,b,c)},computeEventResize:function(a,b,c,d){var e,f,g=this.view.calendar,h=this.diffDates(c[a],b[a]);return e={start:d.start.clone(),end:g.getEventEnd(d),allDay:d.allDay},e.allDay&&F(h)&&(e.allDay=!1,g.normalizeEventRangeTimes(e)),e[a].add(h),e.start.isBefore(e.end)||(f=d.allDay?g.defaultAllDayEventDuration:g.defaultTimedEventDuration,this.cellDuration&&this.cellDuration<f&&(f=this.cellDuration),"start"==a?e.start=e.end.clone().subtract(f):e.end=e.start.clone().add(f)),e},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(a,b,c){return null==b&&(b=this.eventTimeFormat),null==c&&(c=this.displayEventEnd),this.displayEventTime&&a.start.hasTime()?c&&a.end?this.view.formatRange(a,b):a.start.format(b):""},getSegClasses:function(a,b,c){var d=a.event,e=["fc-event",a.isStart?"fc-start":"fc-not-start",a.isEnd?"fc-end":"fc-not-end"].concat(d.className,d.source?d.source.className:[]);return b&&e.push("fc-draggable"),c&&e.push("fc-resizable"),e},getEventSkinCss:function(a){var b=this.view,c=a.source||{},d=a.color,e=c.color,f=b.opt("eventColor");return{"background-color":a.backgroundColor||d||c.backgroundColor||e||b.opt("eventBackgroundColor")||f,"border-color":a.borderColor||d||c.borderColor||e||b.opt("eventBorderColor")||f,color:a.textColor||c.textColor||b.opt("eventTextColor")}},eventsToSegs:function(a,b){var c,d=this.eventsToRanges(a),e=[];for(c=0;c<d.length;c++)e.push.apply(e,this.eventRangeToSegs(d[c],b));return e},eventsToRanges:function(a){var b=this,c=nb(a),d=[];return Hb.each(c,function(a,c){c.length&&d.push.apply(d,lb(c[0])?b.eventsToInverseRanges(c):b.eventsToNormalRanges(c))}),d},eventsToNormalRanges:function(a){var b,c,d,e,f=this.view.calendar,g=[];for(b=0;b<a.length;b++)c=a[b],d=c.start.clone().stripZone(),e=f.getEventEnd(c).stripZone(),g.push({event:c,start:d,end:e,eventStartMS:+d,eventDurationMS:e-d});return g},eventsToInverseRanges:function(a){var b,c,d=this.view,e=d.start.clone().stripZone(),f=d.end.clone().stripZone(),g=this.eventsToNormalRanges(a),h=[],i=a[0],j=e;for(g.sort(ob),b=0;b<g.length;b++)c=g[b],c.start>j&&h.push({event:i,start:j,end:c.start}),j=c.end;return f>j&&h.push({event:i,start:j,end:f}),h},eventRangeToSegs:function(a,b){var c,d,e;for(c=b?b(a):this.rangeToSegs(a),d=0;d<c.length;d++)e=c[d],e.event=a.event,e.eventStartMS=a.eventStartMS,e.eventDurationMS=a.eventDurationMS;return c}}),Ib.compareSegs=pb,Ib.dataAttrPrefix="";var fc=ec.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){ec.apply(this,arguments),this.cellDuration=moment.duration(1,"day")},renderDates:function(a){var b,c,d,e=this.view,f=this.rowCnt,g=this.colCnt,h=f*g,i="";for(b=0;f>b;b++)i+=this.dayRowHtml(b,a);for(this.el.html(i),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),c=0;h>c;c++)d=this.getCell(c),e.trigger("dayRender",null,d.start,this.dayEls.eq(c))},destroyDates:function(){this.destroySegPopover()},renderBusinessHours:function(){var a=this.view.calendar.getBusinessHoursEvents(!0),b=this.eventsToSegs(a);this.renderFill("businessHours",b,"bgevent")},dayRowHtml:function(a,b){var c=this.view,d=["fc-row","fc-week",c.widgetContentClass];return b&&d.push("fc-rigid"),'<div class="'+d.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",a)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",a)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(a){return this.bgCellHtml(a)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var a,b,c,d;if(this.updateCellDates(),a=this.cellDates,this.breakOnWeeks){for(b=a[0].day(),d=1;d<a.length&&a[d].day()!=b;d++);c=Math.ceil(a.length/d)}else c=1,d=a.length;this.rowCnt=c,this.colCnt=d},updateCellDates:function(){for(var a=this.view,b=this.start.clone(),c=[],d=-1,e=[];b.isBefore(this.end);)a.isHiddenDay(b)?e.push(d+.5):(d++,e.push(d),c.push(b.clone())),b.add(1,"days");this.cellDates=c,this.dayToCellOffsets=e},computeCellDate:function(a){var b=this.colCnt,c=a.row*b+(this.isRTL?b-a.col-1:a.col);return this.cellDates[c].clone()},getRowEl:function(a){return this.rowEls.eq(a)},getColEl:function(a){return this.dayEls.eq(a)},getCellDayEl:function(a){return this.dayEls.eq(a.row*this.colCnt+a.col)},computeRowCoords:function(){var a=ec.prototype.computeRowCoords.call(this);return a[a.length-1].bottom+=this.bottomCoordPadding,a},rangeToSegs:function(a){var b,c,d,e,f,g,h,i,j,k,l=this.isRTL,m=this.rowCnt,n=this.colCnt,o=[];for(a=this.view.computeDayRange(a),b=this.dateToCellOffset(a.start),c=this.dateToCellOffset(a.end.subtract(1,"days")),d=0;m>d;d++)e=d*n,f=e+n-1,i=Math.max(e,b),j=Math.min(f,c),i=Math.ceil(i),j=Math.floor(j),j>=i&&(g=i===b,h=j===c,i-=e,j-=e,k={row:d,isStart:g,isEnd:h},l?(k.leftCol=n-j-1,k.rightCol=n-i-1):(k.leftCol=i,k.rightCol=j),o.push(k));return o},dateToCellOffset:function(a){var b=this.dayToCellOffsets,c=a.diff(this.start,"days");return 0>c?b[0]-1:c>=b.length?b[b.length-1]+1:b[c]},renderDrag:function(a,b){return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(a)),b&&!b.el.closest(this.el).length?(this.renderRangeHelper(a,b),this.applyDragOpacity(this.helperEls),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderEventResize:function(a,b){this.renderHighlight(a),this.renderRangeHelper(a,b)},destroyEventResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(a,b){var c,d=[],e=this.eventsToSegs([a]);e=this.renderFgSegEls(e),c=this.renderSegRows(e),this.rowEls.each(function(a,e){var f,g=Hb(e),h=Hb('<div class="fc-helper-skeleton"><table/></div>');f=b&&b.row===a?b.el.position().top:g.find(".fc-content-skeleton tbody").position().top,h.css("top",f).find("table").append(c[a].tbodyEl),g.append(h),d.push(h[0])}),this.helperEls=Hb(d)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(a,b,c){var d,e,f,g=[];for(b=this.renderFillSegEls(a,b),d=0;d<b.length;d++)e=b[d],f=this.renderFillRow(a,e,c),this.rowEls.eq(e.row).append(f),g.push(f[0]);return this.elsByFill[a]=Hb(g),b},renderFillRow:function(a,b,c){var d,e,f=this.colCnt,g=b.leftCol,h=b.rightCol+1;return c=c||a.toLowerCase(),d=Hb('<div class="fc-'+c+'-skeleton"><table><tr/></table></div>'),e=d.find("tr"),g>0&&e.append('<td colspan="'+g+'"/>'),e.append(b.el.attr("colspan",h-g)),f>h&&e.append('<td colspan="'+(f-h)+'"/>'),this.bookendCells(e,a),d}});fc.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover(),ec.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return ec.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(a){var b=Hb.grep(a,function(a){return a.event.allDay});return ec.prototype.renderBgSegs.call(this,b)},renderFgSegs:function(a){var b;return a=this.renderFgSegEls(a),b=this.rowStructs=this.renderSegRows(a),this.rowEls.each(function(a,c){Hb(c).find(".fc-content-skeleton > table").append(b[a].tbodyEl)}),a},destroyFgSegs:function(){for(var a,b=this.rowStructs||[];a=b.pop();)a.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(a){var b,c,d=[];for(b=this.groupSegRows(a),c=0;c<b.length;c++)d.push(this.renderSegRow(c,b[c]));return d},fgSegHtml:function(a,b){var c,d,e=this.view,f=a.event,g=e.isEventDraggable(f),h=!b&&f.allDay&&a.isStart&&e.isEventResizableFromStart(f),i=!b&&f.allDay&&a.isEnd&&e.isEventResizableFromEnd(f),j=this.getSegClasses(a,g,h||i),k=R(this.getEventSkinCss(f)),l="";return j.unshift("fc-day-grid-event","fc-h-event"),a.isStart&&(c=this.getEventTimeText(f),c&&(l='<span class="fc-time">'+P(c)+"</span>")),d='<span class="fc-title">'+(P(f.title||"")||"&nbsp;")+"</span>",'<a class="'+j.join(" ")+'"'+(f.url?' href="'+P(f.url)+'"':"")+(k?' style="'+k+'"':"")+'><div class="fc-content">'+(this.isRTL?d+" "+l:l+" "+d)+"</div>"+(h?'<div class="fc-resizer fc-start-resizer" />':"")+(i?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(a,b){function c(a){for(;a>f;)j=(q[d-1]||[])[f],j?j.attr("rowspan",parseInt(j.attr("rowspan")||1,10)+1):(j=Hb("<td/>"),g.append(j)),p[d][f]=j,q[d][f]=j,f++}var d,e,f,g,h,i,j,k=this.colCnt,l=this.buildSegLevels(b),m=Math.max(1,l.length),n=Hb("<tbody/>"),o=[],p=[],q=[];for(d=0;m>d;d++){if(e=l[d],f=0,g=Hb("<tr/>"),o.push([]),p.push([]),q.push([]),e)for(h=0;h<e.length;h++){for(i=e[h],c(i.leftCol),j=Hb('<td class="fc-event-container"/>').append(i.el),i.leftCol!=i.rightCol?j.attr("colspan",i.rightCol-i.leftCol+1):q[d][f]=j;f<=i.rightCol;)p[d][f]=j,o[d][f]=i,f++;g.append(j)}c(k),this.bookendCells(g,"eventSkeleton"),n.append(g)}return{row:a,tbodyEl:n,cellMatrix:p,segMatrix:o,segLevels:l,segs:b}},buildSegLevels:function(a){var b,c,d,e=[];for(a.sort(pb),b=0;b<a.length;b++){for(c=a[b],d=0;d<e.length&&rb(c,e[d]);d++);c.level=d,(e[d]||(e[d]=[])).push(c)}for(d=0;d<e.length;d++)e[d].sort(sb);return e},groupSegRows:function(a){var b,c=[];for(b=0;b<this.rowCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].row].push(a[b]);return c}}),fc.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(a){var b,c,d=this.rowStructs||[];for(b=0;b<d.length;b++)this.unlimitRow(b),c=a?"number"==typeof a?a:this.computeRowLevelLimit(b):!1,c!==!1&&this.limitRow(b,c)},computeRowLevelLimit:function(a){function b(a,b){e=Math.max(e,Hb(b).outerHeight())}var c,d,e,f=this.rowEls.eq(a),g=f.height(),h=this.rowStructs[a].tbodyEl.children();for(c=0;c<h.length;c++)if(d=h.eq(c).removeClass("fc-limited"),e=0,d.find("> td > :first-child").each(b),d.position().top+e>g)return c;return!1},limitRow:function(a,b){function c(c){for(;c>w;)d=t.getCell(a,w),j=t.getCellSegs(d,b),j.length&&(m=f[b-1][w],s=t.renderMoreLink(d,j),r=Hb("<div/>").append(s),m.append(r),v.push(r[0])),w++}var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=this,u=this.rowStructs[a],v=[],w=0;if(b&&b<u.segLevels.length){for(e=u.segLevels[b-1],f=u.cellMatrix,g=u.tbodyEl.children().slice(b).addClass("fc-limited").get(),h=0;h<e.length;h++){for(i=e[h],c(i.leftCol),l=[],k=0;w<=i.rightCol;)d=this.getCell(a,w),j=this.getCellSegs(d,b),l.push(j),k+=j.length,w++;if(k){for(m=f[b-1][i.leftCol],n=m.attr("rowspan")||1,o=[],p=0;p<l.length;p++)q=Hb('<td class="fc-more-cell"/>').attr("rowspan",n),j=l[p],d=this.getCell(a,i.leftCol+p),s=this.renderMoreLink(d,[i].concat(j)),r=Hb("<div/>").append(s),q.append(r),o.push(q[0]),v.push(q[0]);m.addClass("fc-limited").after(Hb(o)),g.push(m[0])}}c(this.colCnt),u.moreEls=Hb(v),u.limitedEls=Hb(g)}},unlimitRow:function(a){var b=this.rowStructs[a];b.moreEls&&(b.moreEls.remove(),b.moreEls=null),b.limitedEls&&(b.limitedEls.removeClass("fc-limited"),b.limitedEls=null)},renderMoreLink:function(a,b){var c=this,d=this.view;return Hb('<a class="fc-more"/>').text(this.getMoreLinkText(b.length)).on("click",function(e){var f=d.opt("eventLimitClick"),g=a.start,h=Hb(this),i=c.getCellDayEl(a),j=c.getCellSegs(a),k=c.resliceDaySegs(j,g),l=c.resliceDaySegs(b,g);"function"==typeof f&&(f=d.trigger("eventLimitClick",null,{date:g,dayEl:i,moreEl:h,segs:k,hiddenSegs:l},e)),"popover"===f?c.showSegPopover(a,h,k):"string"==typeof f&&d.calendar.zoomTo(g,f)})},showSegPopover:function(a,b,c){var d,e,f=this,g=this.view,h=b.parent();d=1==this.rowCnt?g.el:this.rowEls.eq(a.row),e={className:"fc-more-popover",content:this.renderSegPopoverContent(a,c),parentEl:this.el,top:d.offset().top,autoHide:!0,viewportConstrain:g.opt("popoverViewportConstrain"),hide:function(){f.segPopover.destroy(),f.segPopover=null,f.popoverSegs=null}},this.isRTL?e.right=h.offset().left+h.outerWidth()+1:e.left=h.offset().left-1,this.segPopover=new Zb(e),this.segPopover.show()},renderSegPopoverContent:function(a,b){var c,d=this.view,e=d.opt("theme"),f=a.start.format(d.opt("dayPopoverFormat")),g=Hb('<div class="fc-header '+d.widgetHeaderClass+'"><span class="fc-close '+(e?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+P(f)+'</span><div class="fc-clear"/></div><div class="fc-body '+d.widgetContentClass+'"><div class="fc-event-container"></div></div>'),h=g.find(".fc-event-container");for(b=this.renderFgSegEls(b,!0),this.popoverSegs=b,c=0;c<b.length;c++)b[c].cell=a,h.append(b[c].el);return g},resliceDaySegs:function(a,b){var c=Hb.map(a,function(a){return a.event}),d=b.clone().stripTime(),e=d.clone().add(1,"days"),f={start:d,end:e};return a=this.eventsToSegs(c,function(a){var b=z(a,f);return b?[b]:[]}),a.sort(pb),a},getMoreLinkText:function(a){var b=this.view.opt("eventLimitText");
return"function"==typeof b?b(a):"+"+a+" "+b},getCellSegs:function(a,b){for(var c,d=this.rowStructs[a.row].segMatrix,e=b||0,f=[];e<d.length;)c=d[e][a.col],c&&f.push(c),e++;return f}});var gc=ec.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){ec.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var a=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(a),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(a){return this.bgCellHtml(a)},slatRowHtml:function(){for(var a,b,c,d=this.view,e=this.isRTL,f="",g=this.slotDuration.asMinutes()%15===0,h=moment.duration(+this.minTime);h<this.maxTime;)a=this.start.clone().time(h),b=a.minutes(),c='<td class="fc-axis fc-time '+d.widgetContentClass+'" '+d.axisStyleAttr()+">"+(g&&b?"":"<span>"+P(a.format(this.axisFormat))+"</span>")+"</td>",f+="<tr "+(b?'class="fc-minor"':"")+">"+(e?"":c)+'<td class="'+d.widgetContentClass+'"/>'+(e?c:"")+"</tr>",h.add(this.slotDuration);return f},processOptions:function(){var a=this.view,b=a.opt("slotDuration"),c=a.opt("snapDuration");b=moment.duration(b),c=c?moment.duration(c):b,this.slotDuration=b,this.snapDuration=c,this.cellDuration=c,this.minTime=moment.duration(a.opt("minTime")),this.maxTime=moment.duration(a.opt("maxTime")),this.axisFormat=a.opt("axisFormat")||a.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){var a,b=this.view,c=[];for(a=this.start.clone();a.isBefore(this.end);)c.push({day:a.clone()}),a.add(1,"day"),a=b.skipHiddenDays(a);this.isRTL&&c.reverse(),this.colData=c,this.colCnt=c.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(a){var b=this.computeSnapTime(a.row);return this.view.calendar.rezoneDate(a.day).time(b)},getColEl:function(a){return this.dayEls.eq(a)},computeSnapTime:function(a){return moment.duration(this.minTime+this.snapDuration*a)},rangeToSegs:function(a){var b,c,d,e,f=this.colCnt,g=[];for(a={start:a.start.clone().stripZone(),end:a.end.clone().stripZone()},c=0;f>c;c++)d=this.colData[c].day,e={start:d.clone().time(this.minTime),end:d.clone().time(this.maxTime)},b=z(a,e),b&&(b.col=c,g.push(b));return g},updateSize:function(a){this.computeSlatTops(),a&&this.updateSegVerticals()},computeRowCoords:function(){var a,b,c=this.el.offset().top,d=[];for(a=0;a<this.rowCnt;a++)b={top:c+this.computeTimeTop(this.computeSnapTime(a))},a>0&&(d[a-1].bottom=b.top),d.push(b);return b.bottom=b.top+this.computeTimeTop(this.computeSnapTime(a)),d},computeDateTop:function(a,b){return this.computeTimeTop(moment.duration(a.clone().stripZone()-b.clone().stripTime()))},computeTimeTop:function(a){var b,c,d,e,f=(a-this.minTime)/this.slotDuration;return f=Math.max(0,f),f=Math.min(this.slatEls.length,f),b=Math.floor(f),c=f-b,d=this.slatTops[b],c?(e=this.slatTops[b+1],d+(e-d)*c):d},computeSlatTops:function(){var a,b=[];this.slatEls.each(function(c,d){a=Hb(d).position().top,b.push(a)}),b.push(a+this.slatEls.last().outerHeight()),this.slatTops=b},renderDrag:function(a,b){return b?(this.renderRangeHelper(a,b),this.applyDragOpacity(this.helperEl),!0):void this.renderHighlight(this.view.calendar.ensureVisibleEventRange(a))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderEventResize:function(a,b){this.renderRangeHelper(a,b)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(a,b){var c,d,e,f,g=this.eventsToSegs([a]);for(g=this.renderFgSegEls(g),c=this.renderSegTable(g),d=0;d<g.length;d++)e=g[d],b&&b.col===e.col&&(f=b.el,e.el.css({left:f.css("left"),right:f.css("right"),"margin-left":f.css("margin-left"),"margin-right":f.css("margin-right")}));this.helperEl=Hb('<div class="fc-helper-skeleton"/>').append(c).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(a){this.view.opt("selectHelper")?this.renderRangeHelper(a):this.renderHighlight(a)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(a,b,c){var d,e,f,g,h,i,j,k,l,m;if(b.length){for(b=this.renderFillSegEls(a,b),d=this.groupSegCols(b),c=c||a.toLowerCase(),e=Hb('<div class="fc-'+c+'-skeleton"><table><tr/></table></div>'),f=e.find("tr"),g=0;g<d.length;g++)if(h=d[g],i=Hb("<td/>").appendTo(f),h.length)for(j=Hb('<div class="fc-'+c+'-container"/>').appendTo(i),k=this.colData[g].day,l=0;l<h.length;l++)m=h[l],j.append(m.el.css({top:this.computeDateTop(m.start,k),bottom:-this.computeDateTop(m.end,k)}));this.bookendCells(f,a),this.el.append(e),this.elsByFill[a]=e}return b}});gc.mixin({eventSkeletonEl:null,renderFgSegs:function(a){return a=this.renderFgSegEls(a),this.el.append(this.eventSkeletonEl=Hb('<div class="fc-content-skeleton"/>').append(this.renderSegTable(a))),a},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(a){var b,c,d,e,f,g,h=Hb("<table><tr/></table>"),i=h.find("tr");for(b=this.groupSegCols(a),this.computeSegVerticals(a),e=0;e<b.length;e++){for(f=b[e],tb(f),g=Hb('<div class="fc-event-container"/>'),c=0;c<f.length;c++)d=f[c],d.el.css(this.generateSegPositionCss(d)),d.bottom-d.top<30&&d.el.addClass("fc-short"),g.append(d.el);i.append(Hb("<td/>").append(g))}return this.bookendCells(i,"eventSkeleton"),h},updateSegVerticals:function(){var a,b=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(b),a=0;a<b.length;a++)b[a].el.css(this.generateSegVerticalCss(b[a]))},computeSegVerticals:function(a){var b,c;for(b=0;b<a.length;b++)c=a[b],c.top=this.computeDateTop(c.start,c.start),c.bottom=this.computeDateTop(c.end,c.start)},fgSegHtml:function(a,b){var c,d,e,f=this.view,g=a.event,h=f.isEventDraggable(g),i=!b&&a.isStart&&f.isEventResizableFromStart(g),j=!b&&a.isEnd&&f.isEventResizableFromEnd(g),k=this.getSegClasses(a,h,i||j),l=R(this.getEventSkinCss(g));return k.unshift("fc-time-grid-event","fc-v-event"),f.isMultiDayEvent(g)?(a.isStart||a.isEnd)&&(c=this.getEventTimeText(a),d=this.getEventTimeText(a,"LT"),e=this.getEventTimeText(a,null,!1)):(c=this.getEventTimeText(g),d=this.getEventTimeText(g,"LT"),e=this.getEventTimeText(g,null,!1)),'<a class="'+k.join(" ")+'"'+(g.url?' href="'+P(g.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(c?'<div class="fc-time" data-start="'+P(e)+'" data-full="'+P(d)+'"><span>'+P(c)+"</span></div>":"")+(g.title?'<div class="fc-title">'+P(g.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(j?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(a){var b,c,d=this.view.opt("slotEventOverlap"),e=a.backwardCoord,f=a.forwardCoord,g=this.generateSegVerticalCss(a);return d&&(f=Math.min(1,e+2*(f-e))),this.isRTL?(b=1-f,c=e):(b=e,c=1-f),g.zIndex=a.level+1,g.left=100*b+"%",g.right=100*c+"%",d&&a.forwardPressure&&(g[this.isRTL?"marginLeft":"marginRight"]=20),g},generateSegVerticalCss:function(a){return{top:a.top,bottom:-a.bottom}},groupSegCols:function(a){var b,c=[];for(b=0;b<this.colCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].col].push(a[b]);return c}});var hc=Ib.View=ib.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,isDisplayed:!1,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(a,b,c,d){this.calendar=a,this.type=this.name=b,this.options=c,this.intervalDuration=d||moment.duration(1,"day"),this.nextDayThreshold=moment.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.documentMousedownProxy=V(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(a){return this.options[a]},trigger:function(a,b){var c=this.calendar;return c.trigger.apply(c,[a,b||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(a){this.setRange(this.computeRange(a))},setRange:function(a){Hb.extend(this,a),this.updateTitle()},computeRange:function(a){var b,c,d=D(this.intervalDuration),e=a.clone().startOf(d),f=e.clone().add(this.intervalDuration);return/year|month|week|day/.test(d)?(e.stripTime(),f.stripTime()):(e.hasTime()||(e=this.calendar.rezoneDate(e)),f.hasTime()||(f=this.calendar.rezoneDate(f))),b=e.clone(),b=this.skipHiddenDays(b),c=f.clone(),c=this.skipHiddenDays(c,-1,!0),{intervalUnit:d,intervalStart:e,intervalEnd:f,start:b,end:c}},computePrevDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(a,b){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,b),a.startOf("day")),a},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(a,b,c){var d=a.end;return d.hasTime()||(d=d.clone().subtract(1)),db(a.start,d,b,c,this.opt("isRTL"))},setElement:function(a){this.el=a,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.destroySkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(a){var b=null;this.isDisplayed&&(b=this.queryScroll()),this.clear(),this.setDate(a),this.render(),this.updateSize(),this.renderBusinessHours(),this.isDisplayed=!0,b=this.computeInitialScroll(b),this.forceScroll(b),this.triggerRender()},clear:function(){this.isDisplayed&&(this.unselect(),this.clearEvents(),this.triggerDestroy(),this.destroyBusinessHours(),this.destroy(),this.isDisplayed=!1)},render:function(){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.renderDates()},destroy:function(){this.destroyDates()},renderSkeleton:function(){},destroySkeleton:function(){},renderDates:function(){},destroyDates:function(){},renderBusinessHours:function(){},destroyBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerDestroy:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){Hb(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){Hb(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var a=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=a+"-widget-header",this.widgetContentClass=a+"-widget-content",this.highlightStateClass=a+"-state-highlight"},updateSize:function(a){var b;a&&(b=this.queryScroll()),this.updateHeight(),this.updateWidth(),a&&this.setScroll(b)},updateWidth:function(){},updateHeight:function(){var a=this.calendar;this.setHeight(a.getSuggestedViewHeight(),a.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(a){var b,c,d=this.scrollerEl;return b=this.el.add(d),b.css({position:"relative",left:-1}),c=this.el.outerHeight()-d.height(),b.css({position:"",left:""}),a-c},computeInitialScroll:function(){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(a){return this.scrollerEl?this.scrollerEl.scrollTop(a):void 0},forceScroll:function(a){var b=this;this.setScroll(a),setTimeout(function(){b.setScroll(a)},0)},displayEvents:function(a){var b=this.queryScroll();this.clearEvents(),this.renderEvents(a),this.isEventsRendered=!0,this.setScroll(b),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventDestroy(),this.destroyEvents(),this.isEventsRendered=!1)},renderEvents:function(){},destroyEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(a){this.trigger("eventAfterRender",a.event,a.event,a.el)}),this.trigger("eventAfterAllRender")},triggerEventDestroy:function(){this.renderedEventSegEach(function(a){this.trigger("eventDestroy",a.event,a.event,a.el)})},resolveEventEl:function(a,b){var c=this.trigger("eventRender",a,a,b);return c===!1?b=null:c&&c!==!0&&(b=Hb(c)),b},showEvent:function(a){this.renderedEventSegEach(function(a){a.el.css("visibility","")},a)},hideEvent:function(a){this.renderedEventSegEach(function(a){a.el.css("visibility","hidden")},a)},renderedEventSegEach:function(a,b){var c,d=this.getEventSegs();for(c=0;c<d.length;c++)b&&d[c].event._id!==b._id||d[c].el&&a.call(this,d[c])},getEventSegs:function(){return[]},isEventDraggable:function(a){var b=a.source||{};return O(a.startEditable,b.startEditable,this.opt("eventStartEditable"),a.editable,b.editable,this.opt("editable"))},reportEventDrop:function(a,b,c,d,e){var f=this.calendar,g=f.mutateEvent(a,b,c),h=function(){g.undo(),f.reportEventChange()};this.triggerEventDrop(a,g.dateDelta,h,d,e),f.reportEventChange()},triggerEventDrop:function(a,b,c,d,e){this.trigger("eventDrop",d[0],a,b,c,e,{})},reportExternalDrop:function(a,b,c,d,e){var f,g,h=a.eventProps;h&&(f=Hb.extend({},h,b),g=this.calendar.renderEvent(f,a.stick)[0]),this.triggerExternalDrop(g,b,c,d,e)},triggerExternalDrop:function(a,b,c,d,e){this.trigger("drop",c[0],b.start,d,e),a&&this.trigger("eventReceive",null,a)},renderDrag:function(){},destroyDrag:function(){},isEventResizableFromStart:function(a){return this.opt("eventResizableFromStart")&&this.isEventResizable(a)},isEventResizableFromEnd:function(a){return this.isEventResizable(a)},isEventResizable:function(a){var b=a.source||{};return O(a.durationEditable,b.durationEditable,this.opt("eventDurationEditable"),a.editable,b.editable,this.opt("editable"))},reportEventResize:function(a,b,c,d,e){var f=this.calendar,g=f.mutateEvent(a,b,c),h=function(){g.undo(),f.reportEventChange()};this.triggerEventResize(a,g.durationDelta,h,d,e),f.reportEventChange()},triggerEventResize:function(a,b,c,d,e){this.trigger("eventResize",d[0],a,b,c,e,{})},select:function(a,b){this.unselect(b),this.renderSelection(a),this.reportSelection(a,b)},renderSelection:function(){},reportSelection:function(a,b){this.isSelected=!0,this.trigger("select",null,a.start,a.end,b)},unselect:function(a){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,a))},destroySelection:function(){},documentMousedown:function(a){var b;this.isSelected&&this.opt("unselectAuto")&&u(a)&&(b=this.opt("unselectCancel"),b&&Hb(a.target).closest(b).length||this.unselect(a))},initHiddenDays:function(){var a,b=this.opt("hiddenDays")||[],c=[],d=0;for(this.opt("weekends")===!1&&b.push(0,6),a=0;7>a;a++)(c[a]=-1!==Hb.inArray(a,b))||d++;if(!d)throw"invalid hiddenDays";this.isHiddenDayHash=c},isHiddenDay:function(a){return moment.isMoment(a)&&(a=a.day()),this.isHiddenDayHash[a]},skipHiddenDays:function(a,b,c){var d=a.clone();for(b=b||1;this.isHiddenDayHash[(d.day()+(c?b:0)+7)%7];)d.add(b,"days");return d},computeDayRange:function(a){var b,c=a.start.clone().stripTime(),d=a.end,e=null;return d&&(e=d.clone().stripTime(),b=+d.time(),b&&b>=this.nextDayThreshold&&e.add(1,"days")),(!d||c>=e)&&(e=c.clone().add(1,"days")),{start:c,end:e}},isMultiDayEvent:function(a){var b=this.computeDayRange(a);return b.end.diff(b.start,"days")>1}}),ic=Ib.Calendar=Ib.CalendarBase=ib.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,constructor:Bb,initOptions:function(a){var d,e,f,g;a=c(a),d=a.lang,e=jc[d],e||(d=ic.defaults.lang,e=jc[d]||{}),f=O(a.isRTL,e.isRTL,ic.defaults.isRTL),g=f?ic.rtlDefaults:{},this.dirDefaults=g,this.langDefaults=e,this.overrides=a,this.options=b(ic.defaults,g,e,a),Cb(this.options),this.viewSpecCache={}},getViewSpec:function(a){var b=this.viewSpecCache;return b[a]||(b[a]=this.buildViewSpec(a))},getUnitViewSpec:function(a){var b,c,d;if(-1!=Hb.inArray(a,Qb))for(b=this.header.getViewsWithButtons(),Hb.each(Ib.views,function(a){b.push(a)}),c=0;c<b.length;c++)if(d=this.getViewSpec(b[c]),d&&d.singleUnit==a)return d},buildViewSpec:function(a){for(var c,d,e,f,g,h,i=this.overrides.views||{},j=[],k=[],l=a;l&&!c;)d=Jb[l]||{},e=i[l]||{},f=f||e.duration||d.duration,l=e.type||d.type,"function"==typeof d?(c=d,j.unshift(c.defaults||{})):j.unshift(d),k.unshift(e);return c?(h={"class":c,type:a},f&&(f=moment.duration(f),f.valueOf()||(f=null)),f&&(h.duration=f,g=D(f),1===f.as(g)&&(h.singleUnit=g,k.unshift(i[g]||{}))),h.defaults=b.apply(null,j),h.overrides=b.apply(null,k),this.buildViewSpecOptions(h),this.buildViewSpecButtonText(h,a),h):void 0},buildViewSpecOptions:function(a){a.options=b(ic.defaults,a.defaults,this.dirDefaults,this.langDefaults,this.overrides,a.overrides),Cb(a.options)},buildViewSpecButtonText:function(a,b){function c(c){var d=c.buttonText||{};return d[b]||(a.singleUnit?d[a.singleUnit]:null)}a.buttonTextOverride=c(this.overrides)||a.overrides.buttonText,a.buttonTextDefault=c(this.langDefaults)||c(this.dirDefaults)||a.defaults.buttonText||c(ic.defaults)||(a.duration?this.humanizeDuration(a.duration):null)||b},instantiateView:function(a){var b=this.getViewSpec(a);return new b["class"](this,a,b.options,b.duration)},isValidViewType:function(a){return Boolean(this.getViewSpec(a))}});ic.defaults={titleRangeSeparator:"  ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},ic.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},ic.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var jc=Ib.langs={};Ib.datepickerLang=function(a,b,c){var d=jc[a]||(jc[a]={});d.isRTL=c.isRTL,d.weekNumberTitle=c.weekHeader,Hb.each(kc,function(a,b){d[a]=b(c)}),Hb.datepicker&&(Hb.datepicker.regional[b]=Hb.datepicker.regional[a]=c,Hb.datepicker.regional.en=Hb.datepicker.regional[""],Hb.datepicker.setDefaults(c))},Ib.lang=function(a,c){var d,e;d=jc[a]||(jc[a]={}),c&&(d=jc[a]=b(d,c)),e=Db(a),Hb.each(lc,function(a,b){null==d[a]&&(d[a]=b(e,d))}),ic.defaults.lang=a};var kc={buttonText:function(a){return{prev:Q(a.prevText),next:Q(a.nextText),today:Q(a.currentText)}},monthYearFormat:function(a){return a.showMonthAfterYear?"YYYY["+a.yearSuffix+"] MMMM":"MMMM YYYY["+a.yearSuffix+"]"}},lc={dayOfMonthFormat:function(a,b){var c=a.longDateFormat("l");return c=c.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),b.isRTL?c+=" ddd":c="ddd "+c,c},mediumTimeFormat:function(a){return a.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(a){return a.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(a){return a.longDateFormat("LT").replace(/\s*a$/i,"")}},mc={smallDayDateFormat:function(a){return a.isRTL?"D dd":"dd D"},weekFormat:function(a){return a.isRTL?"w[ "+a.weekNumberTitle+"]":"["+a.weekNumberTitle+" ]w"},smallWeekFormat:function(a){return a.isRTL?"w["+a.weekNumberTitle+"]":"["+a.weekNumberTitle+"]w"}};Ib.lang("en",ic.englishDefaults),Ib.sourceNormalizers=[],Ib.sourceFetchers=[];var nc={dataType:"json",cache:!1},oc=1;ic.prototype.getPeerEvents=function(a){var b,c,d=this.getEventCache(),e=[];for(b=0;b<d.length;b++)c=d[b],a&&a._id===c._id||e.push(c);return e};var pc=Jb.basic=hc.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new fc(this),this.coordMap=this.dayGrid.coordMap},setRange:function(a){hc.prototype.setRange.call(this,a),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(a)},computeRange:function(a){var b=hc.prototype.computeRange.call(this,a);return/year|month/.test(b.intervalUnit)&&(b.start.startOf("week"),b.start=this.skipHiddenDays(b.start),b.end.weekday()&&(b.end.add(1,"week").startOf("week"),b.end=this.skipHiddenDays(b.end,-1,!0))),b},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+P(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(a){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(a,0).start.format("w")+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(a){var b,c=a.start;return this.dayNumbersVisible?(b=this.dayGrid.getDayClasses(c),b.unshift("fc-day-number"),'<td class="'+b.join(" ")+'" data-date="'+c.format()+'">'+c.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var a=this.opt("eventLimit");return a&&"number"!=typeof a},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=j(this.el.find(".fc-week-number")))},setHeight:function(a,b){var c,f=this.opt("eventLimit");l(this.scrollerEl),e(this.headRowEl),this.dayGrid.destroySegPopover(),f&&"number"==typeof f&&this.dayGrid.limitRows(f),c=this.computeScrollerHeight(a),this.setGridHeight(c,b),f&&"number"!=typeof f&&this.dayGrid.limitRows(f),!b&&k(this.scrollerEl,c)&&(d(this.headRowEl,q(this.scrollerEl)),c=this.computeScrollerHeight(a),this.scrollerEl.height(c))},setGridHeight:function(a,b){b?i(this.dayGrid.rowEls):h(this.dayGrid.rowEls,a,!0)},renderEvents:function(a){this.dayGrid.renderEvents(a),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(a,b){return this.dayGrid.renderDrag(a,b)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(a){this.dayGrid.renderSelection(a)},destroySelection:function(){this.dayGrid.destroySelection()}}),qc=Jb.month=pc.extend({computeRange:function(a){var b,c=pc.prototype.computeRange.call(this,a);return this.isFixedWeeks()&&(b=Math.ceil(c.end.diff(c.start,"weeks",!0)),c.end.add(6-b,"weeks")),c},setGridHeight:function(a,b){b=b||"variable"===this.opt("weekMode"),b&&(a*=this.rowCnt/6),h(this.dayGrid.rowEls,a,!b)},isFixedWeeks:function(){var a=this.opt("weekMode");return a?"fixed"===a:this.opt("fixedWeekCount")}});qc.duration={months:1},qc.defaults={fixedWeekCount:!0},Jb.basicWeek={type:"basic",duration:{weeks:1}},Jb.basicDay={type:"basic",duration:{days:1}};var rc={allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0},sc=5,tc=Jb.agenda=hc.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new gc(this),this.opt("allDaySlot")?(this.dayGrid=new fc(this),this.coordMap=new _b([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(a){hc.prototype.setRange.call(this,a),this.timeGrid.setRange(a),this.dayGrid&&this.dayGrid.setRange(a)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=Hb('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroyDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.destroyDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var a,b;return this.opt("weekNumbers")?(a=this.timeGrid.getCell(0).start,b=a.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+P(b)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||P(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(a){this.timeGrid.updateSize(a),hc.prototype.updateSize.call(this,a)},updateWidth:function(){this.axisWidth=j(this.el.find(".fc-axis"))},setHeight:function(a,b){var c,f;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),l(this.scrollerEl),e(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),c=this.opt("eventLimit"),c&&"number"!=typeof c&&(c=sc),c&&this.dayGrid.limitRows(c)),b||(f=this.computeScrollerHeight(a),k(this.scrollerEl,f)?(d(this.noScrollRowEls,q(this.scrollerEl)),f=this.computeScrollerHeight(a),this.scrollerEl.height(f)):(this.scrollerEl.height(f).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var a=moment.duration(this.opt("scrollTime")),b=this.timeGrid.computeTimeTop(a);return b=Math.ceil(b),b&&b++,b},renderEvents:function(a){var b,c,d=[],e=[],f=[];for(c=0;c<a.length;c++)a[c].allDay?d.push(a[c]):e.push(a[c]);b=this.timeGrid.renderEvents(e),this.dayGrid&&(f=this.dayGrid.renderEvents(d)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(a,b){return a.start.hasTime()?this.timeGrid.renderDrag(a,b):this.dayGrid?this.dayGrid.renderDrag(a,b):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(a){a.start.hasTime()||a.end.hasTime()?this.timeGrid.renderSelection(a):this.dayGrid&&this.dayGrid.renderSelection(a)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}});return tc.defaults=rc,Jb.agendaWeek={type:"agenda",duration:{weeks:1}},Jb.agendaDay={type:"agenda",duration:{days:1}},Ib}),define("gallery/fullcalendar/2.3.1/fullcalendar.css",[],function(){seajs.importStyle('.fc{direction:ltr;text-align:left}.fc-rtl{text-align:right}body .fc{font-size:1em}.fc-unthemed th,.fc-unthemed td,.fc-unthemed thead,.fc-unthemed tbody,.fc-unthemed .fc-divider,.fc-unthemed .fc-row,.fc-unthemed .fc-popover{border-color:#ddd}.fc-unthemed .fc-popover{background-color:#fff}.fc-unthemed .fc-divider,.fc-unthemed .fc-popover .fc-header{background:#eee}.fc-unthemed .fc-popover .fc-header .fc-close{color:#666}.fc-unthemed .fc-today{background:#fcf8e3}.fc-highlight{background:#bce8f1;opacity:.3;filter:alpha(opacity=30)}.fc-bgevent{background:#8fdf82;opacity:.3;filter:alpha(opacity=30)}.fc-nonbusiness{background:#d7d7d7}.fc-icon{display:inline-block;width:1em;height:1em;line-height:1em;font-size:1em;text-align:center;overflow:hidden;font-family:"Courier New",Courier,monospace}.fc-icon:after{position:relative;margin:0 -1em}.fc-icon-left-single-arrow:after{content:"\\02039";font-weight:700;font-size:200%;top:-7%;left:3%}.fc-icon-right-single-arrow:after{content:"\\0203A";font-weight:700;font-size:200%;top:-7%;left:-3%}.fc-icon-left-double-arrow:after{content:"\\000AB";font-size:160%;top:-7%}.fc-icon-right-double-arrow:after{content:"\\000BB";font-size:160%;top:-7%}.fc-icon-left-triangle:after{content:"\\25C4";font-size:125%;top:3%;left:-2%}.fc-icon-right-triangle:after{content:"\\25BA";font-size:125%;top:3%;left:2%}.fc-icon-down-triangle:after{content:"\\25BC";font-size:125%;top:2%}.fc-icon-x:after{content:"\\000D7";font-size:200%;top:6%}.fc button{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;height:2.1em;padding:0 .6em;font-size:1em;white-space:nowrap;cursor:pointer}.fc button::-moz-focus-inner{margin:0;padding:0}.fc-state-default{border:1px solid}.fc-state-default.fc-corner-left{border-top-left-radius:4px;border-bottom-left-radius:4px}.fc-state-default.fc-corner-right{border-top-right-radius:4px;border-bottom-right-radius:4px}.fc button .fc-icon{position:relative;top:-.05em;margin:0 .2em;vertical-align:middle}.fc-state-default{background-color:#f5f5f5;background-image:-moz-linear-gradient(top,#fff,#e6e6e6);background-image:-webkit-gradient(linear,0 0,0 100%,from(#fff),to(#e6e6e6));background-image:-webkit-linear-gradient(top,#fff,#e6e6e6);background-image:-o-linear-gradient(top,#fff,#e6e6e6);background-image:linear-gradient(to bottom,#fff,#e6e6e6);background-repeat:repeat-x;border-color:#e6e6e6 #e6e6e6 #bfbfbf;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25);color:#333;text-shadow:0 1px 1px rgba(255,255,255,.75);box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05)}.fc-state-hover,.fc-state-down,.fc-state-active,.fc-state-disabled{color:#333;background-color:#e6e6e6}.fc-state-hover{color:#333;text-decoration:none;background-position:0 -15px;-webkit-transition:background-position .1s linear;-moz-transition:background-position .1s linear;-o-transition:background-position .1s linear;transition:background-position .1s linear}.fc-state-down,.fc-state-active{background-color:#ccc;background-image:none;box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05)}.fc-state-disabled{cursor:default;background-image:none;opacity:.65;filter:alpha(opacity=65);box-shadow:none}.fc-button-group{display:inline-block}.fc .fc-button-group>*{float:left;margin:0 0 0 -1px}.fc .fc-button-group>:first-child{margin-left:0}.fc-popover{position:absolute;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc-popover .fc-header{padding:2px 4px}.fc-popover .fc-header .fc-title{margin:0 2px}.fc-popover .fc-header .fc-close{cursor:pointer}.fc-ltr .fc-popover .fc-header .fc-title,.fc-rtl .fc-popover .fc-header .fc-close{float:left}.fc-rtl .fc-popover .fc-header .fc-title,.fc-ltr .fc-popover .fc-header .fc-close{float:right}.fc-unthemed .fc-popover{border-width:1px;border-style:solid}.fc-unthemed .fc-popover .fc-header .fc-close{font-size:.9em;margin-top:2px}.fc-popover>.ui-widget-header+.ui-widget-content{border-top:0}.fc-divider{border-style:solid;border-width:1px}hr.fc-divider{height:0;margin:0;padding:0 0 2px;border-width:1px 0}.fc-clear{clear:both}.fc-bg,.fc-bgevent-skeleton,.fc-highlight-skeleton,.fc-helper-skeleton{position:absolute;top:0;left:0;right:0}.fc-bg{bottom:0}.fc-bg table{height:100%}.fc table{width:100%;table-layout:fixed;border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc th,.fc td{border-style:solid;border-width:1px;padding:0;vertical-align:top}.fc td.fc-today{border-style:double}.fc .fc-row{border-style:solid;border-width:0}.fc-row table{border-left:0 hidden transparent;border-right:0 hidden transparent;border-bottom:0 hidden transparent}.fc-row:first-child table{border-top:0 hidden transparent}.fc-row{position:relative}.fc-row .fc-bg{z-index:1}.fc-row .fc-bgevent-skeleton,.fc-row .fc-highlight-skeleton{bottom:0}.fc-row .fc-bgevent-skeleton table,.fc-row .fc-highlight-skeleton table{height:100%}.fc-row .fc-highlight-skeleton td,.fc-row .fc-bgevent-skeleton td{border-color:transparent}.fc-row .fc-bgevent-skeleton{z-index:2}.fc-row .fc-highlight-skeleton{z-index:3}.fc-row .fc-content-skeleton{position:relative;z-index:4;padding-bottom:2px}.fc-row .fc-helper-skeleton{z-index:5}.fc-row .fc-content-skeleton td,.fc-row .fc-helper-skeleton td{background:0;border-color:transparent;border-bottom:0}.fc-row .fc-content-skeleton tbody td,.fc-row .fc-helper-skeleton tbody td{border-top:0}.fc-scroller{overflow-y:scroll;overflow-x:hidden}.fc-scroller>*{position:relative;width:100%;overflow:hidden}.fc-event{position:relative;display:block;font-size:.85em;line-height:1.3;border-radius:3px;border:1px solid #3a87ad;background-color:#3a87ad;font-weight:400}.fc-event,.fc-event:hover,.ui-widget .fc-event{color:#fff;text-decoration:none}.fc-event[href],.fc-event.fc-draggable{cursor:pointer}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-event .fc-bg{z-index:1;background:#fff;opacity:.25;filter:alpha(opacity=25)}.fc-event .fc-content{position:relative;z-index:2}.fc-event .fc-resizer{position:absolute;z-index:3}.fc-ltr .fc-h-event.fc-not-start,.fc-rtl .fc-h-event.fc-not-end{margin-left:0;border-left-width:0;padding-left:1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-ltr .fc-h-event.fc-not-end,.fc-rtl .fc-h-event.fc-not-start{margin-right:0;border-right-width:0;padding-right:1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-h-event .fc-resizer{top:-1px;bottom:-1px;left:-1px;right:-1px;width:5px}.fc-ltr .fc-h-event .fc-start-resizer,.fc-ltr .fc-h-event .fc-start-resizer:before,.fc-ltr .fc-h-event .fc-start-resizer:after,.fc-rtl .fc-h-event .fc-end-resizer,.fc-rtl .fc-h-event .fc-end-resizer:before,.fc-rtl .fc-h-event .fc-end-resizer:after{right:auto;cursor:w-resize}.fc-ltr .fc-h-event .fc-end-resizer,.fc-ltr .fc-h-event .fc-end-resizer:before,.fc-ltr .fc-h-event .fc-end-resizer:after,.fc-rtl .fc-h-event .fc-start-resizer,.fc-rtl .fc-h-event .fc-start-resizer:before,.fc-rtl .fc-h-event .fc-start-resizer:after{left:auto;cursor:e-resize}.fc-day-grid-event{margin:1px 2px 0;padding:0 1px}.fc-day-grid-event .fc-content{white-space:nowrap;overflow:hidden}.fc-day-grid-event .fc-time{font-weight:700}.fc-day-grid-event .fc-resizer{left:-3px;right:-3px;width:7px}a.fc-more{margin:1px 3px;font-size:.85em;cursor:pointer;text-decoration:none}a.fc-more:hover{text-decoration:underline}.fc-limited{display:none}.fc-day-grid .fc-row{z-index:1}.fc-more-popover{z-index:2;width:220px}.fc-more-popover .fc-event-container{padding:10px}.fc-toolbar{text-align:center;margin-bottom:1em}.fc-toolbar .fc-left{float:left}.fc-toolbar .fc-right{float:right}.fc-toolbar .fc-center{display:inline-block}.fc .fc-toolbar>*>*{float:left;margin-left:.75em}.fc .fc-toolbar>*>:first-child{margin-left:0}.fc-toolbar h2{margin:0}.fc-toolbar button{position:relative}.fc-toolbar .fc-state-hover,.fc-toolbar .ui-state-hover{z-index:2}.fc-toolbar .fc-state-down{z-index:3}.fc-toolbar .fc-state-active,.fc-toolbar .ui-state-active{z-index:4}.fc-toolbar button:focus{z-index:5}.fc-view-container *,.fc-view-container :before,.fc-view-container :after{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}.fc-view,.fc-view>table{position:relative;z-index:1}.fc-basicWeek-view .fc-content-skeleton,.fc-basicDay-view .fc-content-skeleton{padding-top:1px;padding-bottom:1em}.fc-basic-view .fc-body .fc-row{min-height:4em}.fc-row.fc-rigid{overflow:hidden}.fc-row.fc-rigid .fc-content-skeleton{position:absolute;top:0;left:0;right:0}.fc-basic-view .fc-week-number,.fc-basic-view .fc-day-number{padding:0 2px}.fc-basic-view td.fc-week-number span,.fc-basic-view td.fc-day-number{padding-top:2px;padding-bottom:2px}.fc-basic-view .fc-week-number{text-align:center}.fc-basic-view .fc-week-number span{display:inline-block;min-width:1.25em}.fc-ltr .fc-basic-view .fc-day-number{text-align:right}.fc-rtl .fc-basic-view .fc-day-number{text-align:left}.fc-day-number.fc-other-month{opacity:.3;filter:alpha(opacity=30)}.fc-agenda-view .fc-day-grid{position:relative;z-index:2}.fc-agenda-view .fc-day-grid .fc-row{min-height:3em}.fc-agenda-view .fc-day-grid .fc-row .fc-content-skeleton{padding-top:1px;padding-bottom:1em}.fc .fc-axis{vertical-align:middle;padding:0 4px;white-space:nowrap}.fc-ltr .fc-axis{text-align:right}.fc-rtl .fc-axis{text-align:left}.ui-widget td.fc-axis{font-weight:400}.fc-time-grid-container,.fc-time-grid{position:relative;z-index:1}.fc-time-grid{min-height:100%}.fc-time-grid table{border:0 hidden transparent}.fc-time-grid>.fc-bg{z-index:1}.fc-time-grid .fc-slats,.fc-time-grid>hr{position:relative;z-index:2}.fc-time-grid .fc-bgevent-skeleton,.fc-time-grid .fc-content-skeleton{position:absolute;top:0;left:0;right:0}.fc-time-grid .fc-bgevent-skeleton{z-index:3}.fc-time-grid .fc-highlight-skeleton{z-index:4}.fc-time-grid .fc-content-skeleton{z-index:5}.fc-time-grid .fc-helper-skeleton{z-index:6}.fc-time-grid .fc-slats td{height:1.5em;border-bottom:0}.fc-time-grid .fc-slats .fc-minor td{border-top-style:dotted}.fc-time-grid .fc-slats .ui-widget-content{background:0}.fc-time-grid .fc-highlight-container{position:relative}.fc-time-grid .fc-highlight{position:absolute;left:0;right:0}.fc-time-grid .fc-event-container,.fc-time-grid .fc-bgevent-container{position:relative}.fc-ltr .fc-time-grid .fc-event-container{margin:0 2.5% 0 2px}.fc-rtl .fc-time-grid .fc-event-container{margin:0 2px 0 2.5%}.fc-time-grid .fc-event,.fc-time-grid .fc-bgevent{position:absolute;z-index:1}.fc-time-grid .fc-bgevent{left:0;right:0}.fc-v-event.fc-not-start{border-top-width:0;padding-top:1px;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event.fc-not-end{border-bottom-width:0;padding-bottom:1px;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-time-grid-event{overflow:hidden}.fc-time-grid-event .fc-time,.fc-time-grid-event .fc-title{padding:0 1px}.fc-time-grid-event .fc-time{font-size:.85em;white-space:nowrap}.fc-time-grid-event.fc-short .fc-content{white-space:nowrap}.fc-time-grid-event.fc-short .fc-time,.fc-time-grid-event.fc-short .fc-title{display:inline-block;vertical-align:top}.fc-time-grid-event.fc-short .fc-time span{display:none}.fc-time-grid-event.fc-short .fc-time:before{content:attr(data-start)}.fc-time-grid-event.fc-short .fc-time:after{content:"\\000A0-\\000A0"}.fc-time-grid-event.fc-short .fc-title{font-size:.85em;padding:0}.fc-time-grid-event .fc-resizer{left:0;right:0;bottom:0;height:8px;overflow:hidden;line-height:8px;font-size:11px;font-family:monospace;text-align:center;cursor:s-resize}.fc-time-grid-event .fc-resizer:after{content:"="}')
});
